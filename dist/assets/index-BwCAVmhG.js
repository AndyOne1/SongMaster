function Hf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qc={exports:{}},Ai={},Kc={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),Kf=Symbol.for("react.portal"),Gf=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.memo"),rp=Symbol.for("react.lazy"),ru=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var Gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,Qc={};function dn(e,t,r){this.props=e,this.context=t,this.refs=Qc,this.updater=r||Gc}dn.prototype.isReactComponent={};dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yc(){}Yc.prototype=dn.prototype;function el(e,t,r){this.props=e,this.context=t,this.refs=Qc,this.updater=r||Gc}var tl=el.prototype=new Yc;tl.constructor=el;Jc(tl,dn.prototype);tl.isPureReactComponent=!0;var nu=Array.isArray,Xc=Object.prototype.hasOwnProperty,rl={current:null},Zc={key:!0,ref:!0,__self:!0,__source:!0};function ed(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Xc.call(t,n)&&!Zc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ms,type:e,key:i,ref:o,props:s,_owner:rl.current}}function sp(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function ip(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var su=/\/+/g;function ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ip(""+e.key):t.toString(36)}function Hs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ms:case Kf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ro(o,0):n,nu(s)?(r="",e!=null&&(r=e.replace(su,"$&/")+"/"),Hs(s,t,r,"",function(u){return u})):s!=null&&(nl(s)&&(s=sp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(su,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",nu(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+ro(i,a);o+=Hs(i,t,r,l,s)}else if(l=np(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+ro(i,a++),o+=Hs(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bs(e,t,r){if(e==null)return e;var n=[],s=0;return Hs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function op(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},qs={transition:null},ap={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:qs,ReactCurrentOwner:rl};function td(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:bs,forEach:function(e,t,r){bs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bs(e,function(){t++}),t},toArray:function(e){return bs(e,function(t){return t})||[]},only:function(e){if(!nl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=dn;D.Fragment=Gf;D.Profiler=Qf;D.PureComponent=el;D.StrictMode=Jf;D.Suspense=ep;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ap;D.act=td;D.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=rl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Xc.call(t,l)&&!Zc.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ms,type:e.type,key:s,ref:i,props:n,_owner:o}};D.createContext=function(e){return e={$$typeof:Xf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yf,_context:e},e.Consumer=e};D.createElement=ed;D.createFactory=function(e){var t=ed.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:Zf,render:e}};D.isValidElement=nl;D.lazy=function(e){return{$$typeof:rp,_payload:{_status:-1,_result:e},_init:op}};D.memo=function(e,t){return{$$typeof:tp,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=qs.transition;qs.transition={};try{e()}finally{qs.transition=t}};D.unstable_act=td;D.useCallback=function(e,t){return je.current.useCallback(e,t)};D.useContext=function(e){return je.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return je.current.useDeferredValue(e)};D.useEffect=function(e,t){return je.current.useEffect(e,t)};D.useId=function(){return je.current.useId()};D.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};D.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return je.current.useMemo(e,t)};D.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};D.useRef=function(e){return je.current.useRef(e)};D.useState=function(e){return je.current.useState(e)};D.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};D.useTransition=function(){return je.current.useTransition()};D.version="18.3.1";Kc.exports=D;var S=Kc.exports;const rd=qf(S),lp=Hf({__proto__:null,default:rd},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=S,cp=Symbol.for("react.element"),dp=Symbol.for("react.fragment"),hp=Object.prototype.hasOwnProperty,fp=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pp={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)hp.call(t,n)&&!pp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:cp,type:e,key:i,ref:o,props:s,_owner:fp.current}}Ai.Fragment=dp;Ai.jsx=nd;Ai.jsxs=nd;qc.exports=Ai;var f=qc.exports,Bo={},sd={exports:{}},Fe={},id={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,N){var $=T.length;T.push(N);e:for(;0<$;){var B=$-1>>>1,de=T[B];if(0<s(de,N))T[B]=N,T[$]=de,$=B;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var N=T[0],$=T.pop();if($!==N){T[0]=$;e:for(var B=0,de=T.length,Ss=de>>>1;B<Ss;){var tr=2*(B+1)-1,to=T[tr],rr=tr+1,ks=T[rr];if(0>s(to,$))rr<de&&0>s(ks,to)?(T[B]=ks,T[rr]=$,B=rr):(T[B]=to,T[tr]=$,B=tr);else if(rr<de&&0>s(ks,$))T[B]=ks,T[rr]=$,B=rr;else break e}}return N}function s(T,N){var $=T.sortIndex-N.sortIndex;return $!==0?$:T.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,y=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=T)n(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=r(u)}}function _(T){if(w=!1,m(T),!v)if(r(l)!==null)v=!0,ee(k);else{var N=r(u);N!==null&&ut(_,N.startTime-T)}}function k(T,N){v=!1,w&&(w=!1,g(j),j=-1),y=!0;var $=p;try{for(m(N),h=r(l);h!==null&&(!(h.expirationTime>N)||T&&!ie());){var B=h.callback;if(typeof B=="function"){h.callback=null,p=h.priorityLevel;var de=B(h.expirationTime<=N);N=e.unstable_now(),typeof de=="function"?h.callback=de:h===r(l)&&n(l),m(N)}else n(l);h=r(l)}if(h!==null)var Ss=!0;else{var tr=r(u);tr!==null&&ut(_,tr.startTime-N),Ss=!1}return Ss}finally{h=null,p=$,y=!1}}var b=!1,C=null,j=-1,U=5,I=-1;function ie(){return!(e.unstable_now()-I<U)}function z(){if(C!==null){var T=e.unstable_now();I=T;var N=!0;try{N=C(!0,T)}finally{N?at():(b=!1,C=null)}}else b=!1}var at;if(typeof d=="function")at=function(){d(z)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,F=lt.port2;lt.port1.onmessage=z,at=function(){F.postMessage(null)}}else at=function(){x(z,0)};function ee(T){C=T,b||(b=!0,at())}function ut(T,N){j=x(function(){T(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,ee(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var $=p;p=N;try{return T()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,N){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return N()}finally{p=$}},e.unstable_scheduleCallback=function(T,N,$){var B=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,T){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=$+de,T={id:c++,callback:N,priorityLevel:T,startTime:$,expirationTime:de,sortIndex:-1},$>B?(T.sortIndex=$,t(u,T),r(l)===null&&T===r(u)&&(w?(g(j),j=-1):w=!0,ut(_,$-B))):(T.sortIndex=de,t(l,T),v||y||(v=!0,ee(k))),T},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(T){var N=p;return function(){var $=p;p=N;try{return T.apply(this,arguments)}finally{p=$}}}})(od);id.exports=od;var mp=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=S,Be=mp;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ad=new Set,Wn={};function xr(e,t){rn(e,t),rn(e+"Capture",t)}function rn(e,t){for(Wn[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=Object.prototype.hasOwnProperty,yp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iu={},ou={};function vp(e){return Fo.call(ou,e)?!0:Fo.call(iu,e)?!1:yp.test(e)?ou[e]=!0:(iu[e]=!0,!1)}function wp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _p(e,t,r,n){if(t===null||typeof t>"u"||wp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var sl=/[\-:]([a-z])/g;function il(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sl,il);ve[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sl,il);ve[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sl,il);ve[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ol(e,t,r,n){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_p(t,r,s,n)&&(r=null),n||s===null?vp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ct=gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Es=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),al=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),ud=Symbol.for("react.context"),ll=Symbol.for("react.forward_ref"),Vo=Symbol.for("react.suspense"),Ho=Symbol.for("react.suspense_list"),ul=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),au=Symbol.iterator;function yn(e){return e===null||typeof e!="object"?null:(e=au&&e[au]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,no;function Tn(e){if(no===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);no=t&&t[1]||""}return`
`+no+e}var so=!1;function io(e,t){if(!e||so)return"";so=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{so=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tn(e):""}function xp(e){switch(e.tag){case 5:return Tn(e.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return e=io(e.type,!1),e;case 11:return e=io(e.type.render,!1),e;case 1:return e=io(e.type,!0),e;default:return""}}function qo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case $r:return"Portal";case Wo:return"Profiler";case al:return"StrictMode";case Vo:return"Suspense";case Ho:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ud:return(e.displayName||"Context")+".Consumer";case ld:return(e._context.displayName||"Context")+".Provider";case ll:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ul:return t=e.displayName||null,t!==null?t:qo(e.type)||"Memo";case Nt:t=e._payload,e=e._init;try{return qo(e(t))}catch{}}return null}function Sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qo(t);case 8:return t===al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kp(e){var t=dd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){e._valueTracker||(e._valueTracker=kp(e))}function hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ko(e,t){var r=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fd(e,t){t=t.checked,t!=null&&ol(e,"checked",t,!1)}function Go(e,t){fd(e,t);var r=Jt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jo(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jo(e,t,r){(t!=="number"||ni(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jn=Array.isArray;function Gr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(jn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jt(r)}}function pd(e,t){var r=Jt(t.value),n=Jt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function md(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?md(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bp=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(e){bp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),On[t]=On[e]})});function yd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||On.hasOwnProperty(e)&&On[e]?(""+t).trim():t+"px"}function vd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ep=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xo(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Zo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ea=null;function cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ta=null,Jr=null,Qr=null;function hu(e){if(e=vs(e)){if(typeof ta!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Di(t),ta(e.stateNode,e.type,t))}}function wd(e){Jr?Qr?Qr.push(e):Qr=[e]:Jr=e}function _d(){if(Jr){var e=Jr,t=Qr;if(Qr=Jr=null,hu(e),t)for(e=0;e<t.length;e++)hu(t[e])}}function xd(e,t){return e(t)}function Sd(){}var oo=!1;function kd(e,t,r){if(oo)return e(t,r);oo=!0;try{return xd(e,t,r)}finally{oo=!1,(Jr!==null||Qr!==null)&&(Sd(),_d())}}function Hn(e,t){var r=e.stateNode;if(r===null)return null;var n=Di(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var ra=!1;if(St)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){ra=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{ra=!1}function Cp(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var An=!1,si=null,ii=!1,na=null,Tp={onError:function(e){An=!0,si=e}};function jp(e,t,r,n,s,i,o,a,l){An=!1,si=null,Cp.apply(Tp,arguments)}function Pp(e,t,r,n,s,i,o,a,l){if(jp.apply(this,arguments),An){if(An){var u=si;An=!1,si=null}else throw Error(E(198));ii||(ii=!0,na=u)}}function Sr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(Sr(e)!==e)throw Error(E(188))}function Rp(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return fu(s),e;if(i===n)return fu(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Ed(e){return e=Rp(e),e!==null?Cd(e):null}function Cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cd(e);if(t!==null)return t;e=e.sibling}return null}var Td=Be.unstable_scheduleCallback,pu=Be.unstable_cancelCallback,Np=Be.unstable_shouldYield,Op=Be.unstable_requestPaint,se=Be.unstable_now,Ap=Be.unstable_getCurrentPriorityLevel,dl=Be.unstable_ImmediatePriority,jd=Be.unstable_UserBlockingPriority,oi=Be.unstable_NormalPriority,Ip=Be.unstable_LowPriority,Pd=Be.unstable_IdlePriority,Ii=null,ft=null;function $p(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Dp,Lp=Math.log,Up=Math.LN2;function Dp(e){return e>>>=0,e===0?32:31-(Lp(e)/Up|0)|0}var js=64,Ps=4194304;function Pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Pn(a):(i&=o,i!==0&&(n=Pn(i)))}else o=r&~s,o!==0?n=Pn(o):i!==0&&(n=Pn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-st(t),s=1<<r,n|=e[r],t&=~s;return n}function Mp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-st(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Mp(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rd(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function ao(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=r}function Bp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-st(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function hl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function Nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Od,fl,Ad,Id,$d,ia=!1,Rs=[],zt=null,Bt=null,Ft=null,qn=new Map,Kn=new Map,It=[],Fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function wn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=vs(t),t!==null&&fl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Wp(e,t,r,n,s){switch(t){case"focusin":return zt=wn(zt,e,t,r,n,s),!0;case"dragenter":return Bt=wn(Bt,e,t,r,n,s),!0;case"mouseover":return Ft=wn(Ft,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return qn.set(i,wn(qn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Kn.set(i,wn(Kn.get(i)||null,e,t,r,n,s)),!0}return!1}function Ld(e){var t=cr(e.target);if(t!==null){var r=Sr(t);if(r!==null){if(t=r.tag,t===13){if(t=bd(r),t!==null){e.blockedOn=t,$d(e.priority,function(){Ad(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=oa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ea=n,r.target.dispatchEvent(n),ea=null}else return t=vs(r),t!==null&&fl(t),e.blockedOn=r,!1;t.shift()}return!0}function gu(e,t,r){Ks(e)&&r.delete(t)}function Vp(){ia=!1,zt!==null&&Ks(zt)&&(zt=null),Bt!==null&&Ks(Bt)&&(Bt=null),Ft!==null&&Ks(Ft)&&(Ft=null),qn.forEach(gu),Kn.forEach(gu)}function _n(e,t){e.blockedOn===t&&(e.blockedOn=null,ia||(ia=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Vp)))}function Gn(e){function t(s){return _n(s,e)}if(0<Rs.length){_n(Rs[0],e);for(var r=1;r<Rs.length;r++){var n=Rs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zt!==null&&_n(zt,e),Bt!==null&&_n(Bt,e),Ft!==null&&_n(Ft,e),qn.forEach(t),Kn.forEach(t),r=0;r<It.length;r++)n=It[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&(r=It[0],r.blockedOn===null);)Ld(r),r.blockedOn===null&&It.shift()}var Yr=Ct.ReactCurrentBatchConfig,li=!0;function Hp(e,t,r,n){var s=W,i=Yr.transition;Yr.transition=null;try{W=1,pl(e,t,r,n)}finally{W=s,Yr.transition=i}}function qp(e,t,r,n){var s=W,i=Yr.transition;Yr.transition=null;try{W=4,pl(e,t,r,n)}finally{W=s,Yr.transition=i}}function pl(e,t,r,n){if(li){var s=oa(e,t,r,n);if(s===null)vo(e,t,n,ui,r),mu(e,n);else if(Wp(s,e,t,r,n))n.stopPropagation();else if(mu(e,n),t&4&&-1<Fp.indexOf(e)){for(;s!==null;){var i=vs(s);if(i!==null&&Od(i),i=oa(e,t,r,n),i===null&&vo(e,t,n,ui,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vo(e,t,n,null,r)}}var ui=null;function oa(e,t,r,n){if(ui=null,e=cl(n),e=cr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ui=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case dl:return 1;case jd:return 4;case oi:case Ip:return 16;case Pd:return 536870912;default:return 16}default:return 16}}var Ut=null,ml=null,Gs=null;function Dd(){if(Gs)return Gs;var e,t=ml,r=t.length,n,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Gs=s.slice(e,1<n?1-n:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function yu(){return!1}function We(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:yu,this.isPropagationStopped=yu,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=We(hn),ys=Z({},hn,{view:0,detail:0}),Kp=We(ys),lo,uo,xn,$i=Z({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(lo=e.screenX-xn.screenX,uo=e.screenY-xn.screenY):uo=lo=0,xn=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),vu=We($i),Gp=Z({},$i,{dataTransfer:0}),Jp=We(Gp),Qp=Z({},ys,{relatedTarget:0}),co=We(Qp),Yp=Z({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xp=We(Yp),Zp=Z({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),em=We(Zp),tm=Z({},hn,{data:0}),wu=We(tm),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sm[e])?!!t[e]:!1}function yl(){return im}var om=Z({},ys,{key:function(e){if(e.key){var t=rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),am=We(om),lm=Z({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=We(lm),um=Z({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),cm=We(um),dm=Z({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hm=We(dm),fm=Z({},$i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pm=We(fm),mm=[9,13,27,32],vl=St&&"CompositionEvent"in window,In=null;St&&"documentMode"in document&&(In=document.documentMode);var gm=St&&"TextEvent"in window&&!In,Md=St&&(!vl||In&&8<In&&11>=In),xu=" ",Su=!1;function zd(e,t){switch(e){case"keyup":return mm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function ym(e,t){switch(e){case"compositionend":return Bd(t);case"keypress":return t.which!==32?null:(Su=!0,xu);case"textInput":return e=t.data,e===xu&&Su?null:e;default:return null}}function vm(e,t){if(Ur)return e==="compositionend"||!vl&&zd(e,t)?(e=Dd(),Gs=ml=Ut=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wm[e.type]:t==="textarea"}function Fd(e,t,r,n){wd(n),t=ci(t,"onChange"),0<t.length&&(r=new gl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $n=null,Jn=null;function _m(e){Zd(e,0)}function Li(e){var t=zr(e);if(hd(t))return e}function xm(e,t){if(e==="change")return t}var Wd=!1;if(St){var ho;if(St){var fo="oninput"in document;if(!fo){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),fo=typeof bu.oninput=="function"}ho=fo}else ho=!1;Wd=ho&&(!document.documentMode||9<document.documentMode)}function Eu(){$n&&($n.detachEvent("onpropertychange",Vd),Jn=$n=null)}function Vd(e){if(e.propertyName==="value"&&Li(Jn)){var t=[];Fd(t,Jn,e,cl(e)),kd(_m,t)}}function Sm(e,t,r){e==="focusin"?(Eu(),$n=t,Jn=r,$n.attachEvent("onpropertychange",Vd)):e==="focusout"&&Eu()}function km(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li(Jn)}function bm(e,t){if(e==="click")return Li(t)}function Em(e,t){if(e==="input"||e==="change")return Li(t)}function Cm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Cm;function Qn(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fo.call(t,s)||!ot(e[s],t[s]))return!1}return!0}function Cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tu(e,t){var r=Cu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cu(r)}}function Hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(){for(var e=window,t=ni();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ni(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tm(e){var t=qd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hd(r.ownerDocument.documentElement,r)){if(n!==null&&wl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Tu(r,i);var o=Tu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jm=St&&"documentMode"in document&&11>=document.documentMode,Dr=null,aa=null,Ln=null,la=!1;function ju(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;la||Dr==null||Dr!==ni(n)||(n=Dr,"selectionStart"in n&&wl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ln&&Qn(Ln,n)||(Ln=n,n=ci(aa,"onSelect"),0<n.length&&(t=new gl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Dr)))}function Os(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mr={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},po={},Kd={};St&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ui(e){if(po[e])return po[e];if(!Mr[e])return e;var t=Mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kd)return po[e]=t[r];return e}var Gd=Ui("animationend"),Jd=Ui("animationiteration"),Qd=Ui("animationstart"),Yd=Ui("transitionend"),Xd=new Map,Pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Xd.set(e,t),xr(t,[e])}for(var mo=0;mo<Pu.length;mo++){var go=Pu[mo],Pm=go.toLowerCase(),Rm=go[0].toUpperCase()+go.slice(1);Yt(Pm,"on"+Rm)}Yt(Gd,"onAnimationEnd");Yt(Jd,"onAnimationIteration");Yt(Qd,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Yd,"onTransitionEnd");rn("onMouseEnter",["mouseout","mouseover"]);rn("onMouseLeave",["mouseout","mouseover"]);rn("onPointerEnter",["pointerout","pointerover"]);rn("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function Ru(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Pp(n,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ru(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ru(s,a,u),i=l}}}if(ii)throw e=na,ii=!1,na=null,e}function K(e,t){var r=t[fa];r===void 0&&(r=t[fa]=new Set);var n=e+"__bubble";r.has(n)||(eh(t,e,2,!1),r.add(n))}function yo(e,t,r){var n=0;t&&(n|=4),eh(r,e,n,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[As]){e[As]=!0,ad.forEach(function(r){r!=="selectionchange"&&(Nm.has(r)||yo(r,!1,e),yo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,yo("selectionchange",!1,t))}}function eh(e,t,r,n){switch(Ud(t)){case 1:var s=Hp;break;case 4:s=qp;break;default:s=pl}r=s.bind(null,t,r,e),s=void 0,!ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function vo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}kd(function(){var u=i,c=cl(r),h=[];e:{var p=Xd.get(e);if(p!==void 0){var y=gl,v=e;switch(e){case"keypress":if(Js(r)===0)break e;case"keydown":case"keyup":y=am;break;case"focusin":v="focus",y=co;break;case"focusout":v="blur",y=co;break;case"beforeblur":case"afterblur":y=co;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=cm;break;case Gd:case Jd:case Qd:y=Xp;break;case Yd:y=hm;break;case"scroll":y=Kp;break;case"wheel":y=pm;break;case"copy":case"cut":case"paste":y=em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_u}var w=(t&4)!==0,x=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var d=u,m;d!==null;){m=d;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=Hn(d,g),_!=null&&w.push(Xn(d,_,m)))),x)break;d=d.return}0<w.length&&(p=new y(p,v,null,r,c),h.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&r!==ea&&(v=r.relatedTarget||r.fromElement)&&(cr(v)||v[kt]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?cr(v):null,v!==null&&(x=Sr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=vu,_="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=_u,_="onPointerLeave",g="onPointerEnter",d="pointer"),x=y==null?p:zr(y),m=v==null?p:zr(v),p=new w(_,d+"leave",y,r,c),p.target=x,p.relatedTarget=m,_=null,cr(c)===u&&(w=new w(g,d+"enter",v,r,c),w.target=m,w.relatedTarget=x,_=w),x=_,y&&v)t:{for(w=y,g=v,d=0,m=w;m;m=br(m))d++;for(m=0,_=g;_;_=br(_))m++;for(;0<d-m;)w=br(w),d--;for(;0<m-d;)g=br(g),m--;for(;d--;){if(w===g||g!==null&&w===g.alternate)break t;w=br(w),g=br(g)}w=null}else w=null;y!==null&&Nu(h,p,y,w,!1),v!==null&&x!==null&&Nu(h,x,v,w,!0)}}e:{if(p=u?zr(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var k=xm;else if(ku(p))if(Wd)k=Em;else{k=km;var b=Sm}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=bm);if(k&&(k=k(e,u))){Fd(h,k,r,c);break e}b&&b(e,p,u),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&Jo(p,"number",p.value)}switch(b=u?zr(u):window,e){case"focusin":(ku(b)||b.contentEditable==="true")&&(Dr=b,aa=u,Ln=null);break;case"focusout":Ln=aa=Dr=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,ju(h,r,c);break;case"selectionchange":if(jm)break;case"keydown":case"keyup":ju(h,r,c)}var C;if(vl)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ur?zd(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Md&&r.locale!=="ko"&&(Ur||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ur&&(C=Dd()):(Ut=c,ml="value"in Ut?Ut.value:Ut.textContent,Ur=!0)),b=ci(u,j),0<b.length&&(j=new wu(j,e,null,r,c),h.push({event:j,listeners:b}),C?j.data=C:(C=Bd(r),C!==null&&(j.data=C)))),(C=gm?ym(e,r):vm(e,r))&&(u=ci(u,"onBeforeInput"),0<u.length&&(c=new wu("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=C))}Zd(h,t)})}function Xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ci(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hn(e,r),i!=null&&n.unshift(Xn(e,i,s)),i=Hn(e,t),i!=null&&n.push(Xn(e,i,s))),e=e.return}return n}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Hn(r,i),l!=null&&o.unshift(Xn(r,l,a))):s||(l=Hn(r,i),l!=null&&o.push(Xn(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Om=/\r\n?/g,Am=/\u0000|\uFFFD/g;function Ou(e){return(typeof e=="string"?e:""+e).replace(Om,`
`).replace(Am,"")}function Is(e,t,r){if(t=Ou(t),Ou(e)!==t&&r)throw Error(E(425))}function di(){}var ua=null,ca=null;function da(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,Im=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,$m=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(e){return Au.resolve(null).then(e).catch(Lm)}:ha;function Lm(e){setTimeout(function(){throw e})}function wo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Gn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gn(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fn=Math.random().toString(36).slice(2),ht="__reactFiber$"+fn,Zn="__reactProps$"+fn,kt="__reactContainer$"+fn,fa="__reactEvents$"+fn,Um="__reactListeners$"+fn,Dm="__reactHandles$"+fn;function cr(e){var t=e[ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kt]||r[ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iu(e);e!==null;){if(r=e[ht])return r;e=Iu(e)}return t}e=r,r=e.parentNode}return null}function vs(e){return e=e[ht]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Di(e){return e[Zn]||null}var pa=[],Br=-1;function Xt(e){return{current:e}}function G(e){0>Br||(e.current=pa[Br],pa[Br]=null,Br--)}function H(e,t){Br++,pa[Br]=e.current,e.current=t}var Qt={},Ee=Xt(Qt),Oe=Xt(!1),gr=Qt;function nn(e,t){var r=e.type.contextTypes;if(!r)return Qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function hi(){G(Oe),G(Ee)}function $u(e,t,r){if(Ee.current!==Qt)throw Error(E(168));H(Ee,t),H(Oe,r)}function th(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,Sp(e)||"Unknown",s));return Z({},r,n)}function fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,gr=Ee.current,H(Ee,e),H(Oe,Oe.current),!0}function Lu(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=th(e,t,gr),n.__reactInternalMemoizedMergedChildContext=e,G(Oe),G(Ee),H(Ee,e)):G(Oe),H(Oe,r)}var vt=null,Mi=!1,_o=!1;function rh(e){vt===null?vt=[e]:vt.push(e)}function Mm(e){Mi=!0,rh(e)}function Zt(){if(!_o&&vt!==null){_o=!0;var e=0,t=W;try{var r=vt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,Mi=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),Td(dl,Zt),s}finally{W=t,_o=!1}}return null}var Fr=[],Wr=0,pi=null,mi=0,Ve=[],He=0,yr=null,wt=1,_t="";function ir(e,t){Fr[Wr++]=mi,Fr[Wr++]=pi,pi=e,mi=t}function nh(e,t,r){Ve[He++]=wt,Ve[He++]=_t,Ve[He++]=yr,yr=e;var n=wt;e=_t;var s=32-st(n)-1;n&=~(1<<s),r+=1;var i=32-st(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,wt=1<<32-st(t)+s|r<<s|n,_t=i+e}else wt=1<<i|r<<s|n,_t=e}function _l(e){e.return!==null&&(ir(e,1),nh(e,1,0))}function xl(e){for(;e===pi;)pi=Fr[--Wr],Fr[Wr]=null,mi=Fr[--Wr],Fr[Wr]=null;for(;e===yr;)yr=Ve[--He],Ve[He]=null,_t=Ve[--He],Ve[He]=null,wt=Ve[--He],Ve[He]=null}var ze=null,Me=null,J=!1,nt=null;function sh(e,t){var r=qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Me=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:wt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ze=e,Me=null,!0):!1;default:return!1}}function ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ga(e){if(J){var t=Me;if(t){var r=t;if(!Uu(e,t)){if(ma(e))throw Error(E(418));t=Wt(r.nextSibling);var n=ze;t&&Uu(e,t)?sh(n,r):(e.flags=e.flags&-4097|2,J=!1,ze=e)}}else{if(ma(e))throw Error(E(418));e.flags=e.flags&-4097|2,J=!1,ze=e}}}function Du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function $s(e){if(e!==ze)return!1;if(!J)return Du(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!da(e.type,e.memoizedProps)),t&&(t=Me)){if(ma(e))throw ih(),Error(E(418));for(;t;)sh(e,t),t=Wt(t.nextSibling)}if(Du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=Wt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=ze?Wt(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=Me;e;)e=Wt(e.nextSibling)}function sn(){Me=ze=null,J=!1}function Sl(e){nt===null?nt=[e]:nt.push(e)}var zm=Ct.ReactCurrentBatchConfig;function Sn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Ls(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mu(e){var t=e._init;return t(e._payload)}function oh(e){function t(g,d){if(e){var m=g.deletions;m===null?(g.deletions=[d],g.flags|=16):m.push(d)}}function r(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function n(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=Kt(g,d),g.index=0,g.sibling=null,g}function i(g,d,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<d?(g.flags|=2,d):m):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,d,m,_){return d===null||d.tag!==6?(d=To(m,g.mode,_),d.return=g,d):(d=s(d,m),d.return=g,d)}function l(g,d,m,_){var k=m.type;return k===Lr?c(g,d,m.props.children,_,m.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&Mu(k)===d.type)?(_=s(d,m.props),_.ref=Sn(g,d,m),_.return=g,_):(_=ri(m.type,m.key,m.props,null,g.mode,_),_.ref=Sn(g,d,m),_.return=g,_)}function u(g,d,m,_){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=jo(m,g.mode,_),d.return=g,d):(d=s(d,m.children||[]),d.return=g,d)}function c(g,d,m,_,k){return d===null||d.tag!==7?(d=mr(m,g.mode,_,k),d.return=g,d):(d=s(d,m),d.return=g,d)}function h(g,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=To(""+d,g.mode,m),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Es:return m=ri(d.type,d.key,d.props,null,g.mode,m),m.ref=Sn(g,null,d),m.return=g,m;case $r:return d=jo(d,g.mode,m),d.return=g,d;case Nt:var _=d._init;return h(g,_(d._payload),m)}if(jn(d)||yn(d))return d=mr(d,g.mode,m,null),d.return=g,d;Ls(g,d)}return null}function p(g,d,m,_){var k=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(g,d,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Es:return m.key===k?l(g,d,m,_):null;case $r:return m.key===k?u(g,d,m,_):null;case Nt:return k=m._init,p(g,d,k(m._payload),_)}if(jn(m)||yn(m))return k!==null?null:c(g,d,m,_,null);Ls(g,m)}return null}function y(g,d,m,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,a(d,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Es:return g=g.get(_.key===null?m:_.key)||null,l(d,g,_,k);case $r:return g=g.get(_.key===null?m:_.key)||null,u(d,g,_,k);case Nt:var b=_._init;return y(g,d,m,b(_._payload),k)}if(jn(_)||yn(_))return g=g.get(m)||null,c(d,g,_,k,null);Ls(d,_)}return null}function v(g,d,m,_){for(var k=null,b=null,C=d,j=d=0,U=null;C!==null&&j<m.length;j++){C.index>j?(U=C,C=null):U=C.sibling;var I=p(g,C,m[j],_);if(I===null){C===null&&(C=U);break}e&&C&&I.alternate===null&&t(g,C),d=i(I,d,j),b===null?k=I:b.sibling=I,b=I,C=U}if(j===m.length)return r(g,C),J&&ir(g,j),k;if(C===null){for(;j<m.length;j++)C=h(g,m[j],_),C!==null&&(d=i(C,d,j),b===null?k=C:b.sibling=C,b=C);return J&&ir(g,j),k}for(C=n(g,C);j<m.length;j++)U=y(C,g,j,m[j],_),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?j:U.key),d=i(U,d,j),b===null?k=U:b.sibling=U,b=U);return e&&C.forEach(function(ie){return t(g,ie)}),J&&ir(g,j),k}function w(g,d,m,_){var k=yn(m);if(typeof k!="function")throw Error(E(150));if(m=k.call(m),m==null)throw Error(E(151));for(var b=k=null,C=d,j=d=0,U=null,I=m.next();C!==null&&!I.done;j++,I=m.next()){C.index>j?(U=C,C=null):U=C.sibling;var ie=p(g,C,I.value,_);if(ie===null){C===null&&(C=U);break}e&&C&&ie.alternate===null&&t(g,C),d=i(ie,d,j),b===null?k=ie:b.sibling=ie,b=ie,C=U}if(I.done)return r(g,C),J&&ir(g,j),k;if(C===null){for(;!I.done;j++,I=m.next())I=h(g,I.value,_),I!==null&&(d=i(I,d,j),b===null?k=I:b.sibling=I,b=I);return J&&ir(g,j),k}for(C=n(g,C);!I.done;j++,I=m.next())I=y(C,g,j,I.value,_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?j:I.key),d=i(I,d,j),b===null?k=I:b.sibling=I,b=I);return e&&C.forEach(function(z){return t(g,z)}),J&&ir(g,j),k}function x(g,d,m,_){if(typeof m=="object"&&m!==null&&m.type===Lr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Es:e:{for(var k=m.key,b=d;b!==null;){if(b.key===k){if(k=m.type,k===Lr){if(b.tag===7){r(g,b.sibling),d=s(b,m.props.children),d.return=g,g=d;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&Mu(k)===b.type){r(g,b.sibling),d=s(b,m.props),d.ref=Sn(g,b,m),d.return=g,g=d;break e}r(g,b);break}else t(g,b);b=b.sibling}m.type===Lr?(d=mr(m.props.children,g.mode,_,m.key),d.return=g,g=d):(_=ri(m.type,m.key,m.props,null,g.mode,_),_.ref=Sn(g,d,m),_.return=g,g=_)}return o(g);case $r:e:{for(b=m.key;d!==null;){if(d.key===b)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){r(g,d.sibling),d=s(d,m.children||[]),d.return=g,g=d;break e}else{r(g,d);break}else t(g,d);d=d.sibling}d=jo(m,g.mode,_),d.return=g,g=d}return o(g);case Nt:return b=m._init,x(g,d,b(m._payload),_)}if(jn(m))return v(g,d,m,_);if(yn(m))return w(g,d,m,_);Ls(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(r(g,d.sibling),d=s(d,m),d.return=g,g=d):(r(g,d),d=To(m,g.mode,_),d.return=g,g=d),o(g)):r(g,d)}return x}var on=oh(!0),ah=oh(!1),gi=Xt(null),yi=null,Vr=null,kl=null;function bl(){kl=Vr=yi=null}function El(e){var t=gi.current;G(gi),e._currentValue=t}function ya(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xr(e,t){yi=e,kl=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(kl!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(yi===null)throw Error(E(308));Vr=e,yi.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var dr=null;function Cl(e){dr===null?dr=[e]:dr.push(e)}function lh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Cl(t)):(r.next=s.next,s.next=r),t.interleaved=r,bt(e,n)}function bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ot=!1;function Tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,M&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,bt(e,r)}return s=n.interleaved,s===null?(t.next=t,Cl(n)):(t.next=s.next,s.next=t),n.interleaved=t,bt(e,r)}function Qs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hl(e,r)}}function zu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vi(e,t,r,n){var s=e.updateQueue;Ot=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(p=t,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(y,h,p):v,p==null)break e;h=Z({},h,p);break e;case 2:Ot=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=h):c=c.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wr|=o,e.lanes=o,e.memoizedState=h}}function Bu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ws={},pt=Xt(ws),es=Xt(ws),ts=Xt(ws);function hr(e){if(e===ws)throw Error(E(174));return e}function jl(e,t){switch(H(ts,t),H(es,e),H(pt,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yo(t,e)}G(pt),H(pt,t)}function an(){G(pt),G(es),G(ts)}function ch(e){hr(ts.current);var t=hr(pt.current),r=Yo(t,e.type);t!==r&&(H(es,e),H(pt,r))}function Pl(e){es.current===e&&(G(pt),G(es))}var Y=Xt(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=[];function Rl(){for(var e=0;e<xo.length;e++)xo[e]._workInProgressVersionPrimary=null;xo.length=0}var Ys=Ct.ReactCurrentDispatcher,So=Ct.ReactCurrentBatchConfig,vr=0,X=null,ue=null,he=null,_i=!1,Un=!1,rs=0,Bm=0;function _e(){throw Error(E(321))}function Nl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ot(e[r],t[r]))return!1;return!0}function Ol(e,t,r,n,s,i){if(vr=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=e===null||e.memoizedState===null?Hm:qm,e=r(n,s),Un){i=0;do{if(Un=!1,rs=0,25<=i)throw Error(E(301));i+=1,he=ue=null,t.updateQueue=null,Ys.current=Km,e=r(n,s)}while(Un)}if(Ys.current=xi,t=ue!==null&&ue.next!==null,vr=0,he=ue=X=null,_i=!1,t)throw Error(E(300));return e}function Al(){var e=rs!==0;return rs=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?X.memoizedState=he=e:he=he.next=e,he}function Qe(){if(ue===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=he===null?X.memoizedState:he.next;if(t!==null)he=t,ue=e;else{if(e===null)throw Error(E(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?X.memoizedState=he=e:he=he.next=e}return he}function ns(e,t){return typeof t=="function"?t(e):t}function ko(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((vr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,X.lanes|=c,wr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,ot(n,t.memoizedState)||(Ne=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,wr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bo(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ot(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function dh(){}function hh(e,t){var r=X,n=Qe(),s=t(),i=!ot(n.memoizedState,s);if(i&&(n.memoizedState=s,Ne=!0),n=n.queue,Il(mh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,ss(9,ph.bind(null,r,n,s,t),void 0,null),fe===null)throw Error(E(349));vr&30||fh(r,t,s)}return s}function fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ph(e,t,r,n){t.value=r,t.getSnapshot=n,gh(t)&&yh(e)}function mh(e,t,r){return r(function(){gh(t)&&yh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ot(e,r)}catch{return!0}}function yh(e){var t=bt(e,1);t!==null&&it(t,e,1,-1)}function Fu(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},t.queue=e,e=e.dispatch=Vm.bind(null,X,e),[t.memoizedState,e]}function ss(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vh(){return Qe().memoizedState}function Xs(e,t,r,n){var s=dt();X.flags|=e,s.memoizedState=ss(1|t,r,void 0,n===void 0?null:n)}function zi(e,t,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,n!==null&&Nl(n,o.deps)){s.memoizedState=ss(t,r,i,n);return}}X.flags|=e,s.memoizedState=ss(1|t,r,i,n)}function Wu(e,t){return Xs(8390656,8,e,t)}function Il(e,t){return zi(2048,8,e,t)}function wh(e,t){return zi(4,2,e,t)}function _h(e,t){return zi(4,4,e,t)}function xh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sh(e,t,r){return r=r!=null?r.concat([e]):null,zi(4,4,xh.bind(null,t,e),r)}function $l(){}function kh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Eh(e,t,r){return vr&21?(ot(r,t)||(r=Rd(),X.lanes|=r,wr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=r)}function Fm(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=So.transition;So.transition={};try{e(!1),t()}finally{W=r,So.transition=n}}function Ch(){return Qe().memoizedState}function Wm(e,t,r){var n=qt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Th(e))jh(t,r);else if(r=lh(e,t,r,n),r!==null){var s=Te();it(r,e,n,s),Ph(r,t,n)}}function Vm(e,t,r){var n=qt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Th(e))jh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,ot(a,o)){var l=t.interleaved;l===null?(s.next=s,Cl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=lh(e,t,s,n),r!==null&&(s=Te(),it(r,e,n,s),Ph(r,t,n))}}function Th(e){var t=e.alternate;return e===X||t!==null&&t===X}function jh(e,t){Un=_i=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ph(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hl(e,r)}}var xi={readContext:Je,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Hm={readContext:Je,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Wu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xs(4194308,4,xh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var r=dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Wm.bind(null,X,e),[n.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:Fu,useDebugValue:$l,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=Fu(!1),t=e[0];return e=Fm.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=X,s=dt();if(J){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),fe===null)throw Error(E(349));vr&30||fh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Wu(mh.bind(null,n,i,e),[e]),n.flags|=2048,ss(9,ph.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=dt(),t=fe.identifierPrefix;if(J){var r=_t,n=wt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=rs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qm={readContext:Je,useCallback:kh,useContext:Je,useEffect:Il,useImperativeHandle:Sh,useInsertionEffect:wh,useLayoutEffect:_h,useMemo:bh,useReducer:ko,useRef:vh,useState:function(){return ko(ns)},useDebugValue:$l,useDeferredValue:function(e){var t=Qe();return Eh(t,ue.memoizedState,e)},useTransition:function(){var e=ko(ns)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Ch,unstable_isNewReconciler:!1},Km={readContext:Je,useCallback:kh,useContext:Je,useEffect:Il,useImperativeHandle:Sh,useInsertionEffect:wh,useLayoutEffect:_h,useMemo:bh,useReducer:bo,useRef:vh,useState:function(){return bo(ns)},useDebugValue:$l,useDeferredValue:function(e){var t=Qe();return ue===null?t.memoizedState=e:Eh(t,ue.memoizedState,e)},useTransition:function(){var e=bo(ns)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Ch,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function va(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bi={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Te(),s=qt(e),i=xt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(it(t,e,s,n),Qs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Te(),s=qt(e),i=xt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(it(t,e,s,n),Qs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Te(),n=qt(e),s=xt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,n),t!==null&&(it(t,e,n,r),Qs(t,e,n))}};function Vu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Qn(r,n)||!Qn(s,i):!0}function Rh(e,t,r){var n=!1,s=Qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Ae(t)?gr:Ee.current,n=t.contextTypes,i=(n=n!=null)?nn(e,s):Qt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function wa(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Tl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Ae(t)?gr:Ee.current,s.context=nn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(va(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bi.enqueueReplaceState(s,s.state,null),vi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var r="",n=t;do r+=xp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Eo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _a(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Gm=typeof WeakMap=="function"?WeakMap:Map;function Nh(e,t,r){r=xt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ki||(ki=!0,Ra=n),_a(e,t)},r}function Oh(e,t,r){r=xt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){_a(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){_a(e,t),typeof n!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function qu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Gm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=lg.bind(null,e,t,r),t.then(e,e))}function Ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xt(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var Jm=Ct.ReactCurrentOwner,Ne=!1;function Ce(e,t,r,n){t.child=e===null?ah(t,null,r,n):on(t,e.child,r,n)}function Ju(e,t,r,n,s){r=r.render;var i=t.ref;return Xr(t,s),n=Ol(e,t,r,n,i,s),r=Al(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(J&&r&&_l(t),t.flags|=1,Ce(e,t,n,s),t.child)}function Qu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Wl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ah(e,t,i,n,s)):(e=ri(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Qn,r(o,n)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=Kt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Qn(i,n)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,Et(e,t,s)}return xa(e,t,r,n,s)}function Ih(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(qr,Le),Le|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(qr,Le),Le|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(qr,Le),Le|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,H(qr,Le),Le|=n;return Ce(e,t,s,r),t.child}function $h(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,r,n,s){var i=Ae(r)?gr:Ee.current;return i=nn(t,i),Xr(t,s),r=Ol(e,t,r,n,i,s),n=Al(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(J&&n&&_l(t),t.flags|=1,Ce(e,t,r,s),t.child)}function Yu(e,t,r,n,s){if(Ae(r)){var i=!0;fi(t)}else i=!1;if(Xr(t,s),t.stateNode===null)Zs(e,t),Rh(t,r,n),wa(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Ae(r)?gr:Ee.current,u=nn(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Hu(t,o,n,u),Ot=!1;var p=t.memoizedState;o.state=p,vi(t,n,o,s),l=t.memoizedState,a!==n||p!==l||Oe.current||Ot?(typeof c=="function"&&(va(t,r,c,n),l=t.memoizedState),(a=Ot||Vu(t,r,a,n,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,uh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ze(t.type,a),o.props=u,h=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Ae(r)?gr:Ee.current,l=nn(t,l));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Hu(t,o,n,l),Ot=!1,p=t.memoizedState,o.state=p,vi(t,n,o,s);var v=t.memoizedState;a!==h||p!==v||Oe.current||Ot?(typeof y=="function"&&(va(t,r,y,n),v=t.memoizedState),(u=Ot||Vu(t,r,u,n,p,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Sa(e,t,r,n,i,s)}function Sa(e,t,r,n,s,i){$h(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Lu(t,r,!1),Et(e,t,i);n=t.stateNode,Jm.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=on(t,e.child,null,i),t.child=on(t,null,a,i)):Ce(e,t,a,i),t.memoizedState=n.state,s&&Lu(t,r,!0),t.child}function Lh(e){var t=e.stateNode;t.pendingContext?$u(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$u(e,t.context,!1),jl(e,t.containerInfo)}function Xu(e,t,r,n,s){return sn(),Sl(s),t.flags|=256,Ce(e,t,r,n),t.child}var ka={dehydrated:null,treeContext:null,retryLane:0};function ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,t,r){var n=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(Y,s&1),e===null)return ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vi(o,n,0,null),e=mr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ba(r),t.memoizedState=ka,e):Ll(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Qm(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Kt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kt(a,i):(i=mr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ba(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ka,n}return i=e.child,e=i.sibling,n=Kt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ll(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,r,n){return n!==null&&Sl(n),on(t,e.child,null,r),e=Ll(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qm(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Eo(Error(E(422))),Us(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Vi({mode:"visible",children:n.children},s,0,null),i=mr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&on(t,e.child,null,o),t.child.memoizedState=ba(o),t.memoizedState=ka,i);if(!(t.mode&1))return Us(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=Eo(i,n,void 0),Us(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ne||a){if(n=fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(e,s),it(n,e,s,-1))}return Fl(),n=Eo(Error(E(421))),Us(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ug.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Me=Wt(s.nextSibling),ze=t,J=!0,nt=null,e!==null&&(Ve[He++]=wt,Ve[He++]=_t,Ve[He++]=yr,wt=e.id,_t=e.overflow,yr=t),t=Ll(t,n.children),t.flags|=4096,t)}function Zu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ya(e.return,t,r)}function Co(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=Y.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zu(e,r,t);else if(e.tag===19)Zu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(H(Y,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&wi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Co(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Co(t,!0,r,null,i);break;case"together":Co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ym(e,t,r){switch(t.tag){case 3:Lh(t),sn();break;case 5:ch(t);break;case 1:Ae(t.type)&&fi(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;H(gi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(H(Y,Y.current&1),t.flags|=128,null):r&t.child.childLanes?Uh(e,t,r):(H(Y,Y.current&1),e=Et(e,t,r),e!==null?e.sibling:null);H(Y,Y.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Y,Y.current),n)break;return null;case 22:case 23:return t.lanes=0,Ih(e,t,r)}return Et(e,t,r)}var Mh,Ea,zh,Bh;Mh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ea=function(){};zh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,hr(pt.current);var i=null;switch(r){case"input":s=Ko(e,s),n=Ko(e,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=Qo(e,s),n=Qo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=di)}Xo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&K("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Bh=function(e,t,r,n){r!==n&&(t.flags|=4)};function kn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xm(e,t,r){var n=t.pendingProps;switch(xl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Ae(t.type)&&hi(),xe(t),null;case 3:return n=t.stateNode,an(),G(Oe),G(Ee),Rl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Aa(nt),nt=null))),Ea(e,t),xe(t),null;case 5:Pl(t);var s=hr(ts.current);if(r=t.type,e!==null&&t.stateNode!=null)zh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return xe(t),null}if(e=hr(pt.current),$s(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ht]=t,n[Zn]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<Rn.length;s++)K(Rn[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":lu(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":cu(n,i),K("invalid",n)}Xo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,a,e),s=["children",""+a]):Wn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&K("scroll",n)}switch(r){case"input":Cs(n),uu(n,i,!0);break;case"textarea":Cs(n),du(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=di)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=md(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ht]=t,e[Zn]=n,Mh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zo(r,n),r){case"dialog":K("cancel",e),K("close",e),s=n;break;case"iframe":case"object":case"embed":K("load",e),s=n;break;case"video":case"audio":for(s=0;s<Rn.length;s++)K(Rn[s],e);s=n;break;case"source":K("error",e),s=n;break;case"img":case"image":case"link":K("error",e),K("load",e),s=n;break;case"details":K("toggle",e),s=n;break;case"input":lu(e,n),s=Ko(e,n),K("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),K("invalid",e);break;case"textarea":cu(e,n),s=Qo(e,n),K("invalid",e);break;default:s=n}Xo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gd(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vn(e,l):typeof l=="number"&&Vn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&K("scroll",e):l!=null&&ol(e,i,l,o))}switch(r){case"input":Cs(e),uu(e,n,!1);break;case"textarea":Cs(e),du(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Gr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Gr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=di)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)Bh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=hr(ts.current),hr(pt.current),$s(t)){if(n=t.stateNode,r=t.memoizedProps,n[ht]=t,(i=n.nodeValue!==r)&&(e=ze,e!==null))switch(e.tag){case 3:Is(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ht]=t,t.stateNode=n}return xe(t),null;case 13:if(G(Y),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Me!==null&&t.mode&1&&!(t.flags&128))ih(),sn(),t.flags|=98560,i=!1;else if(i=$s(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ht]=t}else sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else nt!==null&&(Aa(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?ce===0&&(ce=3):Fl())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return an(),Ea(e,t),e===null&&Yn(t.stateNode.containerInfo),xe(t),null;case 10:return El(t.type._context),xe(t),null;case 17:return Ae(t.type)&&hi(),xe(t),null;case 19:if(G(Y),i=t.memoizedState,i===null)return xe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)kn(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wi(e),o!==null){for(t.flags|=128,kn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>un&&(t.flags|=128,n=!0,kn(i,!1),t.lanes=4194304)}else{if(!n)if(e=wi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),kn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return xe(t),null}else 2*se()-i.renderingStartTime>un&&r!==1073741824&&(t.flags|=128,n=!0,kn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,r=Y.current,H(Y,n?r&1|2:r&1),t):(xe(t),null);case 22:case 23:return Bl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Le&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Zm(e,t){switch(xl(t),t.tag){case 1:return Ae(t.type)&&hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(),G(Oe),G(Ee),Rl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pl(t),null;case 13:if(G(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Y),null;case 4:return an(),null;case 10:return El(t.type._context),null;case 22:case 23:return Bl(),null;case 24:return null;default:return null}}var Ds=!1,Se=!1,eg=typeof WeakSet=="function"?WeakSet:Set,P=null;function Hr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function Ca(e,t,r){try{r()}catch(n){re(e,t,n)}}var ec=!1;function tg(e,t){if(ua=li,e=qd(),wl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,p=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===r&&++u===s&&(a=o),p===i&&++c===n&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ca={focusedElem:e,selectionRange:r},li=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ze(t.type,w),x);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=ec,ec=!1,v}function Dn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ca(t,r,i)}s=s.next}while(s!==n)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ta(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Fh(e){var t=e.alternate;t!==null&&(e.alternate=null,Fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[Zn],delete t[fa],delete t[Um],delete t[Dm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ja(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=di));else if(n!==4&&(e=e.child,e!==null))for(ja(e,t,r),e=e.sibling;e!==null;)ja(e,t,r),e=e.sibling}function Pa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pa(e,t,r),e=e.sibling;e!==null;)Pa(e,t,r),e=e.sibling}var ge=null,tt=!1;function jt(e,t,r){for(r=r.child;r!==null;)Vh(e,t,r),r=r.sibling}function Vh(e,t,r){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ii,r)}catch{}switch(r.tag){case 5:Se||Hr(r,t);case 6:var n=ge,s=tt;ge=null,jt(e,t,r),ge=n,tt=s,ge!==null&&(tt?(e=ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(tt?(e=ge,r=r.stateNode,e.nodeType===8?wo(e.parentNode,r):e.nodeType===1&&wo(e,r),Gn(e)):wo(ge,r.stateNode));break;case 4:n=ge,s=tt,ge=r.stateNode.containerInfo,tt=!0,jt(e,t,r),ge=n,tt=s;break;case 0:case 11:case 14:case 15:if(!Se&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ca(r,t,o),s=s.next}while(s!==n)}jt(e,t,r);break;case 1:if(!Se&&(Hr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){re(r,t,a)}jt(e,t,r);break;case 21:jt(e,t,r);break;case 22:r.mode&1?(Se=(n=Se)||r.memoizedState!==null,jt(e,t,r),Se=n):jt(e,t,r);break;default:jt(e,t,r)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eg),t.forEach(function(n){var s=cg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ye(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ge=a.stateNode,tt=!1;break e;case 3:ge=a.stateNode.containerInfo,tt=!0;break e;case 4:ge=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(ge===null)throw Error(E(160));Vh(i,o,s),ge=null,tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hh(t,e),t=t.sibling}function Hh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),ct(e),n&4){try{Dn(3,e,e.return),Fi(3,e)}catch(w){re(e,e.return,w)}try{Dn(5,e,e.return)}catch(w){re(e,e.return,w)}}break;case 1:Ye(t,e),ct(e),n&512&&r!==null&&Hr(r,r.return);break;case 5:if(Ye(t,e),ct(e),n&512&&r!==null&&Hr(r,r.return),e.flags&32){var s=e.stateNode;try{Vn(s,"")}catch(w){re(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&fd(s,i),Zo(a,o);var u=Zo(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?vd(s,h):c==="dangerouslySetInnerHTML"?gd(s,h):c==="children"?Vn(s,h):ol(s,c,h,u)}switch(a){case"input":Go(s,i);break;case"textarea":pd(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Gr(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zn]=i}catch(w){re(e,e.return,w)}}break;case 6:if(Ye(t,e),ct(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){re(e,e.return,w)}}break;case 3:if(Ye(t,e),ct(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gn(t.containerInfo)}catch(w){re(e,e.return,w)}break;case 4:Ye(t,e),ct(e);break;case 13:Ye(t,e),ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ml=se())),n&4&&rc(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Se=(u=Se)||c,Ye(t,e),Se=u):Ye(t,e),ct(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(P=e,c=e.child;c!==null;){for(h=P=c;P!==null;){switch(p=P,y=p.child,p.tag){case 0:case 11:case 14:case 15:Dn(4,p,p.return);break;case 1:Hr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){re(n,r,w)}}break;case 5:Hr(p,p.return);break;case 22:if(p.memoizedState!==null){sc(h);continue}}y!==null?(y.return=p,P=y):sc(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yd("display",o))}catch(w){re(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){re(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ye(t,e),ct(e),n&4&&rc(e);break;case 21:break;default:Ye(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Vn(s,""),n.flags&=-33);var i=tc(e);Pa(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tc(e);ja(e,a,o);break;default:throw Error(E(161))}}catch(l){re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rg(e,t,r){P=e,qh(e)}function qh(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ds;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Se;a=Ds;var u=Se;if(Ds=o,(Se=l)&&!u)for(P=s;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?ic(s):l!==null?(l.return=o,P=l):ic(s);for(;i!==null;)P=i,qh(i),i=i.sibling;P=s,Ds=a,Se=u}nc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):nc(e)}}function nc(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||Fi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Se)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Gn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Se||t.flags&512&&Ta(t)}catch(p){re(t,t.return,p)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function sc(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function ic(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fi(4,t)}catch(l){re(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){re(t,s,l)}}var i=t.return;try{Ta(t)}catch(l){re(t,i,l)}break;case 5:var o=t.return;try{Ta(t)}catch(l){re(t,o,l)}}}catch(l){re(t,t.return,l)}if(t===e){P=null;break}var a=t.sibling;if(a!==null){a.return=t.return,P=a;break}P=t.return}}var ng=Math.ceil,Si=Ct.ReactCurrentDispatcher,Ul=Ct.ReactCurrentOwner,Ge=Ct.ReactCurrentBatchConfig,M=0,fe=null,ae=null,ye=0,Le=0,qr=Xt(0),ce=0,is=null,wr=0,Wi=0,Dl=0,Mn=null,Re=null,Ml=0,un=1/0,gt=null,ki=!1,Ra=null,Ht=null,Ms=!1,Dt=null,bi=0,zn=0,Na=null,ei=-1,ti=0;function Te(){return M&6?se():ei!==-1?ei:ei=se()}function qt(e){return e.mode&1?M&2&&ye!==0?ye&-ye:zm.transition!==null?(ti===0&&(ti=Rd()),ti):(e=W,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e):1}function it(e,t,r,n){if(50<zn)throw zn=0,Na=null,Error(E(185));gs(e,r,n),(!(M&2)||e!==fe)&&(e===fe&&(!(M&2)&&(Wi|=r),ce===4&&$t(e,ye)),Ie(e,n),r===1&&M===0&&!(t.mode&1)&&(un=se()+500,Mi&&Zt()))}function Ie(e,t){var r=e.callbackNode;zp(e,t);var n=ai(e,e===fe?ye:0);if(n===0)r!==null&&pu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pu(r),t===1)e.tag===0?Mm(oc.bind(null,e)):rh(oc.bind(null,e)),$m(function(){!(M&6)&&Zt()}),r=null;else{switch(Nd(n)){case 1:r=dl;break;case 4:r=jd;break;case 16:r=oi;break;case 536870912:r=Pd;break;default:r=oi}r=ef(r,Kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kh(e,t){if(ei=-1,ti=0,M&6)throw Error(E(327));var r=e.callbackNode;if(Zr()&&e.callbackNode!==r)return null;var n=ai(e,e===fe?ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ei(e,n);else{t=n;var s=M;M|=2;var i=Jh();(fe!==e||ye!==t)&&(gt=null,un=se()+500,pr(e,t));do try{og();break}catch(a){Gh(e,a)}while(!0);bl(),Si.current=i,M=s,ae!==null?t=0:(fe=null,ye=0,t=ce)}if(t!==0){if(t===2&&(s=sa(e),s!==0&&(n=s,t=Oa(e,s))),t===1)throw r=is,pr(e,0),$t(e,n),Ie(e,se()),r;if(t===6)$t(e,n);else{if(s=e.current.alternate,!(n&30)&&!sg(s)&&(t=Ei(e,n),t===2&&(i=sa(e),i!==0&&(n=i,t=Oa(e,i))),t===1))throw r=is,pr(e,0),$t(e,n),Ie(e,se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:or(e,Re,gt);break;case 3:if($t(e,n),(n&130023424)===n&&(t=Ml+500-se(),10<t)){if(ai(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ha(or.bind(null,e,Re,gt),t);break}or(e,Re,gt);break;case 4:if($t(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-st(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ng(n/1960))-n,10<n){e.timeoutHandle=ha(or.bind(null,e,Re,gt),n);break}or(e,Re,gt);break;case 5:or(e,Re,gt);break;default:throw Error(E(329))}}}return Ie(e,se()),e.callbackNode===r?Kh.bind(null,e):null}function Oa(e,t){var r=Mn;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=Ei(e,t),e!==2&&(t=Re,Re=r,t!==null&&Aa(t)),e}function Aa(e){Re===null?Re=e:Re.push.apply(Re,e)}function sg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~Dl,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(M&6)throw Error(E(327));Zr();var t=ai(e,0);if(!(t&1))return Ie(e,se()),null;var r=Ei(e,t);if(e.tag!==0&&r===2){var n=sa(e);n!==0&&(t=n,r=Oa(e,n))}if(r===1)throw r=is,pr(e,0),$t(e,t),Ie(e,se()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,Re,gt),Ie(e,se()),null}function zl(e,t){var r=M;M|=1;try{return e(t)}finally{M=r,M===0&&(un=se()+500,Mi&&Zt())}}function _r(e){Dt!==null&&Dt.tag===0&&!(M&6)&&Zr();var t=M;M|=1;var r=Ge.transition,n=W;try{if(Ge.transition=null,W=1,e)return e()}finally{W=n,Ge.transition=r,M=t,!(M&6)&&Zt()}}function Bl(){Le=qr.current,G(qr)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Im(r)),ae!==null)for(r=ae.return;r!==null;){var n=r;switch(xl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hi();break;case 3:an(),G(Oe),G(Ee),Rl();break;case 5:Pl(n);break;case 4:an();break;case 13:G(Y);break;case 19:G(Y);break;case 10:El(n.type._context);break;case 22:case 23:Bl()}r=r.return}if(fe=e,ae=e=Kt(e.current,null),ye=Le=t,ce=0,is=null,Dl=Wi=wr=0,Re=Mn=null,dr!==null){for(t=0;t<dr.length;t++)if(r=dr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}dr=null}return e}function Gh(e,t){do{var r=ae;try{if(bl(),Ys.current=xi,_i){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_i=!1}if(vr=0,he=ue=X=null,Un=!1,rs=0,Ul.current=null,r===null||r.return===null){ce=1,is=t,ae=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Ku(o);if(y!==null){y.flags&=-257,Gu(y,o,a,i,t),y.mode&1&&qu(i,u,t),t=y,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){qu(i,u,t),Fl();break e}l=Error(E(426))}}else if(J&&a.mode&1){var x=Ku(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gu(x,o,a,i,t),Sl(ln(l,a));break e}}i=l=ln(l,a),ce!==4&&(ce=2),Mn===null?Mn=[i]:Mn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Nh(i,l,t);zu(i,g);break e;case 1:a=l;var d=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ht===null||!Ht.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Oh(i,a,t);zu(i,_);break e}}i=i.return}while(i!==null)}Yh(r)}catch(k){t=k,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function Jh(){var e=Si.current;return Si.current=xi,e===null?xi:e}function Fl(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(wr&268435455)&&!(Wi&268435455)||$t(fe,ye)}function Ei(e,t){var r=M;M|=2;var n=Jh();(fe!==e||ye!==t)&&(gt=null,pr(e,t));do try{ig();break}catch(s){Gh(e,s)}while(!0);if(bl(),M=r,Si.current=n,ae!==null)throw Error(E(261));return fe=null,ye=0,ce}function ig(){for(;ae!==null;)Qh(ae)}function og(){for(;ae!==null&&!Np();)Qh(ae)}function Qh(e){var t=Zh(e.alternate,e,Le);e.memoizedProps=e.pendingProps,t===null?Yh(e):ae=t,Ul.current=null}function Yh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Zm(r,t),r!==null){r.flags&=32767,ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ae=null;return}}else if(r=Xm(r,t,Le),r!==null){ae=r;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ce===0&&(ce=5)}function or(e,t,r){var n=W,s=Ge.transition;try{Ge.transition=null,W=1,ag(e,t,r,n)}finally{Ge.transition=s,W=n}return null}function ag(e,t,r,n){do Zr();while(Dt!==null);if(M&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Bp(e,i),e===fe&&(ae=fe=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ms||(Ms=!0,ef(oi,function(){return Zr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var o=W;W=1;var a=M;M|=4,Ul.current=null,tg(e,r),Hh(r,e),Tm(ca),li=!!ua,ca=ua=null,e.current=r,rg(r),Op(),M=a,W=o,Ge.transition=i}else e.current=r;if(Ms&&(Ms=!1,Dt=e,bi=s),i=e.pendingLanes,i===0&&(Ht=null),$p(r.stateNode),Ie(e,se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ki)throw ki=!1,e=Ra,Ra=null,e;return bi&1&&e.tag!==0&&Zr(),i=e.pendingLanes,i&1?e===Na?zn++:(zn=0,Na=e):zn=0,Zt(),null}function Zr(){if(Dt!==null){var e=Nd(bi),t=Ge.transition,r=W;try{if(Ge.transition=null,W=16>e?16:e,Dt===null)var n=!1;else{if(e=Dt,Dt=null,bi=0,M&6)throw Error(E(331));var s=M;for(M|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:Dn(8,c,i)}var h=c.child;if(h!==null)h.return=c,P=h;else for(;P!==null;){c=P;var p=c.sibling,y=c.return;if(Fh(c),c===u){P=null;break}if(p!==null){p.return=y,P=p;break}P=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var d=e.current;for(P=d;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=d;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fi(9,a)}}catch(k){re(a,a.return,k)}if(a===o){P=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,P=_;break e}P=a.return}}if(M=s,Zt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ii,e)}catch{}n=!0}return n}finally{W=r,Ge.transition=t}}return!1}function ac(e,t,r){t=ln(r,t),t=Nh(e,t,1),e=Vt(e,t,1),t=Te(),e!==null&&(gs(e,1,t),Ie(e,t))}function re(e,t,r){if(e.tag===3)ac(e,e,r);else for(;t!==null;){if(t.tag===3){ac(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ht===null||!Ht.has(n))){e=ln(r,e),e=Oh(t,e,1),t=Vt(t,e,1),e=Te(),t!==null&&(gs(t,1,e),Ie(t,e));break}}t=t.return}}function lg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(ye&r)===r&&(ce===4||ce===3&&(ye&130023424)===ye&&500>se()-Ml?pr(e,0):Dl|=r),Ie(e,t)}function Xh(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var r=Te();e=bt(e,t),e!==null&&(gs(e,t,r),Ie(e,r))}function ug(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xh(e,r)}function cg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Xh(e,r)}var Zh;Zh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Ne=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ne=!1,Ym(e,t,r);Ne=!!(e.flags&131072)}else Ne=!1,J&&t.flags&1048576&&nh(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zs(e,t),e=t.pendingProps;var s=nn(t,Ee.current);Xr(t,r),s=Ol(null,t,n,e,s,r);var i=Al();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(n)?(i=!0,fi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tl(t),s.updater=Bi,t.stateNode=s,s._reactInternals=t,wa(t,n,e,r),t=Sa(null,t,n,!0,i,r)):(t.tag=0,J&&i&&_l(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=hg(n),e=Ze(n,e),s){case 0:t=xa(null,t,n,e,r);break e;case 1:t=Yu(null,t,n,e,r);break e;case 11:t=Ju(null,t,n,e,r);break e;case 14:t=Qu(null,t,n,Ze(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),xa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),Yu(e,t,n,s,r);case 3:e:{if(Lh(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,uh(e,t),vi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ln(Error(E(423)),t),t=Xu(e,t,n,r,s);break e}else if(n!==s){s=ln(Error(E(424)),t),t=Xu(e,t,n,r,s);break e}else for(Me=Wt(t.stateNode.containerInfo.firstChild),ze=t,J=!0,nt=null,r=ah(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sn(),n===s){t=Et(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return ch(t),e===null&&ga(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,da(n,s)?o=null:i!==null&&da(n,i)&&(t.flags|=32),$h(e,t),Ce(e,t,o,r),t.child;case 6:return e===null&&ga(t),null;case 13:return Uh(e,t,r);case 4:return jl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=on(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),Ju(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,H(gi,n._currentValue),n._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!Oe.current){t=Et(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=xt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ya(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ya(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Xr(t,r),s=Je(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=Ze(n,t.pendingProps),s=Ze(n.type,s),Qu(e,t,n,s,r);case 15:return Ah(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),Zs(e,t),t.tag=1,Ae(n)?(e=!0,fi(t)):e=!1,Xr(t,r),Rh(t,n,s),wa(t,n,s,r),Sa(null,t,n,!0,e,r);case 19:return Dh(e,t,r);case 22:return Ih(e,t,r)}throw Error(E(156,t.tag))};function ef(e,t){return Td(e,t)}function dg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,r,n){return new dg(e,t,r,n)}function Wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hg(e){if(typeof e=="function")return Wl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ll)return 11;if(e===ul)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ri(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Wl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Lr:return mr(r.children,s,i,t);case al:o=8,s|=8;break;case Wo:return e=qe(12,r,t,s|2),e.elementType=Wo,e.lanes=i,e;case Vo:return e=qe(13,r,t,s),e.elementType=Vo,e.lanes=i,e;case Ho:return e=qe(19,r,t,s),e.elementType=Ho,e.lanes=i,e;case cd:return Vi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ld:o=10;break e;case ud:o=9;break e;case ll:o=11;break e;case ul:o=14;break e;case Nt:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=qe(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function mr(e,t,r,n){return e=qe(7,e,n,t),e.lanes=r,e}function Vi(e,t,r,n){return e=qe(22,e,n,t),e.elementType=cd,e.lanes=r,e.stateNode={isHidden:!1},e}function To(e,t,r){return e=qe(6,e,null,t),e.lanes=r,e}function jo(e,t,r){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vl(e,t,r,n,s,i,o,a,l){return e=new fg(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(i),e}function pg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tf(e){if(!e)return Qt;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ae(r))return th(e,r,t)}return t}function rf(e,t,r,n,s,i,o,a,l){return e=Vl(r,n,!0,e,s,i,o,a,l),e.context=tf(null),r=e.current,n=Te(),s=qt(r),i=xt(n,s),i.callback=t??null,Vt(r,i,s),e.current.lanes=s,gs(e,s,n),Ie(e,n),e}function Hi(e,t,r,n){var s=t.current,i=Te(),o=qt(s);return r=tf(r),t.context===null?t.context=r:t.pendingContext=r,t=xt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(s,t,o),e!==null&&(it(e,s,o,i),Qs(e,s,o)),o}function Ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hl(e,t){lc(e,t),(e=e.alternate)&&lc(e,t)}function mg(){return null}var nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}qi.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Hi(e,t,null,null)};qi.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){Hi(null,e,null,null)}),t[kt]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Id();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&t!==0&&t<It[r].priority;r++);It.splice(r,0,e),r===0&&Ld(e)}};function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uc(){}function gg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ci(o);i.call(u)}}var o=rf(t,n,e,0,null,!1,!1,"",uc);return e._reactRootContainer=o,e[kt]=o.current,Yn(e.nodeType===8?e.parentNode:e),_r(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ci(l);a.call(u)}}var l=Vl(e,0,!1,null,null,!1,!1,"",uc);return e._reactRootContainer=l,e[kt]=l.current,Yn(e.nodeType===8?e.parentNode:e),_r(function(){Hi(t,l,r,n)}),l}function Gi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ci(o);a.call(l)}}Hi(t,o,e,s)}else o=gg(r,t,e,s,n);return Ci(o)}Od=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pn(t.pendingLanes);r!==0&&(hl(t,r|1),Ie(t,se()),!(M&6)&&(un=se()+500,Zt()))}break;case 13:_r(function(){var n=bt(e,1);if(n!==null){var s=Te();it(n,e,1,s)}}),Hl(e,1)}};fl=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var r=Te();it(t,e,134217728,r)}Hl(e,134217728)}};Ad=function(e){if(e.tag===13){var t=qt(e),r=bt(e,t);if(r!==null){var n=Te();it(r,e,t,n)}Hl(e,t)}};Id=function(){return W};$d=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};ta=function(e,t,r){switch(t){case"input":if(Go(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Di(n);if(!s)throw Error(E(90));hd(n),Go(n,s)}}}break;case"textarea":pd(e,r);break;case"select":t=r.value,t!=null&&Gr(e,!!r.multiple,t,!1)}};xd=zl;Sd=_r;var yg={usingClientEntryPoint:!1,Events:[vs,zr,Di,wd,_d,zl]},bn={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vg={bundleType:bn.bundleType,version:bn.version,rendererPackageName:bn.rendererPackageName,rendererConfig:bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ed(e),e===null?null:e.stateNode},findFiberByHostInstance:bn.findFiberByHostInstance||mg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{Ii=zs.inject(vg),ft=zs}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;Fe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kl(t))throw Error(E(200));return pg(e,t,null,r)};Fe.createRoot=function(e,t){if(!Kl(e))throw Error(E(299));var r=!1,n="",s=nf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vl(e,1,!1,null,null,r,!1,n,s),e[kt]=t.current,Yn(e.nodeType===8?e.parentNode:e),new ql(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Ed(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return _r(e)};Fe.hydrate=function(e,t,r){if(!Ki(t))throw Error(E(200));return Gi(null,e,t,!0,r)};Fe.hydrateRoot=function(e,t,r){if(!Kl(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=nf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rf(t,null,e,1,r??null,s,!1,i,o),e[kt]=t.current,Yn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new qi(t)};Fe.render=function(e,t,r){if(!Ki(t))throw Error(E(200));return Gi(null,e,t,!1,r)};Fe.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(E(40));return e._reactRootContainer?(_r(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};Fe.unstable_batchedUpdates=zl;Fe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ki(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Gi(e,t,r,!1,n)};Fe.version="18.3.1-next-f1338f8080-20240426";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(e){console.error(e)}}sf(),sd.exports=Fe;var wg=sd.exports,cc=wg;Bo.createRoot=cc.createRoot,Bo.hydrateRoot=cc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}var Mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mt||(Mt={}));const dc="popstate";function _g(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Ia("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ti(s)}return Sg(t,r,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xg(){return Math.random().toString(36).substr(2,8)}function hc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ia(e,t,r,n){return r===void 0&&(r=null),os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pn(t):t,{state:r,key:t&&t.key||n||xg()})}function Ti(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Sg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Mt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(os({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Mt.Pop;let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:g})}function p(x,g){a=Mt.Push;let d=Ia(w.location,x,g);u=c()+1;let m=hc(d,u),_=w.createHref(d);try{o.pushState(m,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&l&&l({action:a,location:w.location,delta:1})}function y(x,g){a=Mt.Replace;let d=Ia(w.location,x,g);u=c();let m=hc(d,u),_=w.createHref(d);o.replaceState(m,"",_),i&&l&&l({action:a,location:w.location,delta:0})}function v(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof x=="string"?x:Ti(x);return d=d.replace(/ $/,"%20"),ne(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let w={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(dc,h),l=x,()=>{s.removeEventListener(dc,h),l=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:y,go(x){return o.go(x)}};return w}var fc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fc||(fc={}));function kg(e,t,r){return r===void 0&&(r="/"),bg(e,t,r)}function bg(e,t,r,n){let s=typeof t=="string"?pn(t):t,i=cn(s.pathname||"/",r);if(i==null)return null;let o=of(e);Eg(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Lg(i);a=Ig(o[l],u)}return a}function of(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ne(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Gt([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),of(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Og(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of af(i.path))s(i,o,l)}),t}function af(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=af(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Eg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ag(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Cg=/^:[\w-]+$/,Tg=3,jg=2,Pg=1,Rg=10,Ng=-2,pc=e=>e==="*";function Og(e,t){let r=e.split("/"),n=r.length;return r.some(pc)&&(n+=Ng),t&&(n+=jg),r.filter(s=>!pc(s)).reduce((s,i)=>s+(Cg.test(i)?Tg:i===""?Pg:Rg),n)}function Ag(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ig(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=$a({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Gt([i,h.pathname]),pathnameBase:Bg(Gt([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Gt([i,h.pathnameBase]))}return o}function $a(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$g(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:p,isOptional:y}=c;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[h];return y&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function $g(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Gl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Lg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dg=e=>Ug.test(e);function Mg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?pn(e):e,i;if(r)if(Dg(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Gl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=mc(r.substring(1),"/"):i=mc(r,t)}else i=t;return{pathname:i,search:Fg(n),hash:Wg(s)}}function mc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Po(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lf(e,t){let r=zg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uf(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=pn(e):(s=os({},e),ne(!s.pathname||!s.pathname.includes("?"),Po("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Po("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Po("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=Mg(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),Bg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cf=["post","put","patch","delete"];new Set(cf);const Hg=["get",...cf];new Set(Hg);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}const Ji=S.createContext(null),df=S.createContext(null),er=S.createContext(null),Qi=S.createContext(null),kr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),hf=S.createContext(null);function qg(e,t){let{relative:r}=t===void 0?{}:t;_s()||ne(!1);let{basename:n,navigator:s}=S.useContext(er),{hash:i,pathname:o,search:a}=Yi(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Gt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function _s(){return S.useContext(Qi)!=null}function mn(){return _s()||ne(!1),S.useContext(Qi).location}function ff(e){S.useContext(er).static||S.useLayoutEffect(e)}function pf(){let{isDataRoute:e}=S.useContext(kr);return e?iy():Kg()}function Kg(){_s()||ne(!1);let e=S.useContext(Ji),{basename:t,future:r,navigator:n}=S.useContext(er),{matches:s}=S.useContext(kr),{pathname:i}=mn(),o=JSON.stringify(lf(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return ff(()=>{a.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=uf(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gt([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,o,i,e])}function Yi(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(er),{matches:s}=S.useContext(kr),{pathname:i}=mn(),o=JSON.stringify(lf(s,n.v7_relativeSplatPath));return S.useMemo(()=>uf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Gg(e,t){return Jg(e,t)}function Jg(e,t,r,n){_s()||ne(!1);let{navigator:s}=S.useContext(er),{matches:i}=S.useContext(kr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=mn(),c;if(t){var h;let x=typeof t=="string"?pn(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ne(!1),c=x}else c=u;let p=c.pathname||"/",y=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=kg(e,{pathname:y}),w=ey(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Gt([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Gt([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?S.createElement(Qi.Provider,{value:{location:as({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Mt.Pop}},w):w}function Qg(){let e=sy(),t=Vg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const Yg=S.createElement(Qg,null);class Xg extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(kr.Provider,{value:this.props.routeContext},S.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zg(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(Ji);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(kr.Provider,{value:t},n)}function ey(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||ne(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:y}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,p)=>{let y,v=!1,w=null,x=null;r&&(y=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Yg,l&&(u<0&&p===0?(oy("route-fallback"),v=!0,x=null):u===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,p+1)),d=()=>{let m;return y?m=w:v?m=x:h.route.Component?m=S.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=c,S.createElement(Zg,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(Xg,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var mf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mf||{}),gf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gf||{});function ty(e){let t=S.useContext(Ji);return t||ne(!1),t}function ry(e){let t=S.useContext(df);return t||ne(!1),t}function ny(e){let t=S.useContext(kr);return t||ne(!1),t}function yf(e){let t=ny(),r=t.matches[t.matches.length-1];return r.route.id||ne(!1),r.route.id}function sy(){var e;let t=S.useContext(hf),r=ry(),n=yf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function iy(){let{router:e}=ty(mf.UseNavigateStable),t=yf(gf.UseNavigateStable),r=S.useRef(!1);return ff(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,as({fromRouteId:t},i)))},[e,t])}const gc={};function oy(e,t,r){gc[e]||(gc[e]=!0)}function ay(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Nr(e){ne(!1)}function ly(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Mt.Pop,navigator:i,static:o=!1,future:a}=e;_s()&&ne(!1);let l=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:as({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=pn(n));let{pathname:c="/",search:h="",hash:p="",state:y=null,key:v="default"}=n,w=S.useMemo(()=>{let x=cn(c,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:y,key:v},navigationType:s}},[l,c,h,p,y,v,s]);return w==null?null:S.createElement(er.Provider,{value:u},S.createElement(Qi.Provider,{children:r,value:w}))}function uy(e){let{children:t,location:r}=e;return Gg(La(t),r)}new Promise(()=>{});function La(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,La(n.props.children,i));return}n.type!==Nr&&ne(!1),!n.props.index||!n.props.children||ne(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=La(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(this,arguments)}function vf(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function cy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dy(e,t){return e.button===0&&(!t||t==="_self")&&!cy(e)}function Ua(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function hy(e,t){let r=Ua(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const fy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],py=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],my="6";try{window.__reactRouterVersion=my}catch{}const gy=S.createContext({isTransitioning:!1}),yy="startTransition",yc=lp[yy];function vy(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=_g({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=S.useCallback(h=>{u&&yc?yc(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.useEffect(()=>ay(n),[n]),S.createElement(ly,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=S.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=t,p=vf(t,fy),{basename:y}=S.useContext(er),v,w=!1;if(typeof u=="string"&&_y.test(u)&&(v=u,wy))try{let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),k=cn(_.pathname,y);_.origin===m.origin&&k!=null?u=k+_.search+_.hash:w=!0}catch{}let x=qg(u,{relative:s}),g=ky(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function d(m){n&&n(m),m.defaultPrevented||g(m)}return S.createElement("a",ji({},p,{href:v||x,onClick:w||i?n:d,ref:r,target:l}))}),xy=S.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=t,h=vf(t,py),p=Yi(l,{relative:h.relative}),y=mn(),v=S.useContext(df),{navigator:w,basename:x}=S.useContext(er),g=v!=null&&Ey(p)&&u===!0,d=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,m=y.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(m=m.toLowerCase(),_=_?_.toLowerCase():null,d=d.toLowerCase()),_&&x&&(_=cn(_,x)||_);const k=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let b=m===d||!o&&m.startsWith(d)&&m.charAt(k)==="/",C=_!=null&&(_===d||!o&&_.startsWith(d)&&_.charAt(d.length)==="/"),j={isActive:b,isPending:C,isTransitioning:g},U=b?n:void 0,I;typeof i=="function"?I=i(j):I=[i,b?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let ie=typeof a=="function"?a(j):a;return S.createElement(Da,ji({},h,{"aria-current":U,className:I,ref:r,style:ie,to:l,viewTransition:u}),typeof c=="function"?c(j):c)});var Ma;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ma||(Ma={}));var vc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vc||(vc={}));function Sy(e){let t=S.useContext(Ji);return t||ne(!1),t}function ky(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=pf(),u=mn(),c=Yi(e,{relative:o});return S.useCallback(h=>{if(dy(h,r)){h.preventDefault();let p=n!==void 0?n:Ti(u)===Ti(c);l(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,e,i,o,a])}function by(e){let t=S.useRef(Ua(e)),r=S.useRef(!1),n=mn(),s=S.useMemo(()=>hy(n.search,r.current?null:t.current),[n.search]),i=pf(),o=S.useCallback((a,l)=>{const u=Ua(typeof a=="function"?a(s):a);r.current=!0,i("?"+u,l)},[i,s]);return[s,o]}function Ey(e,t){t===void 0&&(t={});let r=S.useContext(gy);r==null&&ne(!1);let{basename:n}=Sy(Ma.useViewTransitionState),s=Yi(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=cn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=cn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $a(s.pathname,o)!=null||$a(s.pathname,i)!=null}function wf(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=wf(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Cy(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=wf(e))&&(n&&(n+=" "),n+=t);return n}const Jl="-",Ty=e=>{const t=Py(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Jl);return a[0]===""&&a.length!==1&&a.shift(),_f(a,t)||jy(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},_f=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?_f(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Jl);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},wc=/^\[(.+)\]$/,jy=e=>{if(wc.test(e)){const t=wc.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Py=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ny(Object.entries(e.classGroups),r).forEach(([i,o])=>{za(o,n,i,t)}),n},za=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:_c(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Ry(s)){za(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{za(o,_c(t,i),r,n)})})},_c=(e,t)=>{let r=e;return t.split(Jl).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ry=e=>e.isThemeGetter,Ny=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,Oy=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},xf="!",Ay=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,c=0,h;for(let x=0;x<a.length;x++){let g=a[x];if(u===0){if(g===s&&(n||a.slice(x,x+i)===t)){l.push(a.slice(c,x)),c=x+i;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const p=l.length===0?a:a.substring(c),y=p.startsWith(xf),v=y?p.substring(1):p,w=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}};return r?a=>r({className:a,parseClassName:o}):o},Iy=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$y=e=>({cache:Oy(e.cacheSize),parseClassName:Ay(e),...Ty(e)}),Ly=/\s+/,Uy=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Ly);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=r(u);let v=!!y,w=n(v?p.substring(0,y):p);if(!w){if(!v){a=u+(a.length>0?" "+a:a);continue}if(w=n(p),!w){a=u+(a.length>0?" "+a:a);continue}v=!1}const x=Iy(c).join(":"),g=h?x+xf:x,d=g+w;if(i.includes(d))continue;i.push(d);const m=s(w,v);for(let _=0;_<m.length;++_){const k=m[_];i.push(g+k)}a=u+(a.length>0?" "+a:a)}return a};function Dy(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Sf(t))&&(n&&(n+=" "),n+=r);return n}const Sf=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Sf(e[n]))&&(r&&(r+=" "),r+=t);return r};function My(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((c,h)=>h(c),e());return r=$y(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const c=Uy(l,r);return s(l,c),c}return function(){return i(Dy.apply(null,arguments))}}const q=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},kf=/^\[(?:([a-z-]+):)?(.+)\]$/i,zy=/^\d+\/\d+$/,By=new Set(["px","full","screen"]),Fy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mt=e=>en(e)||By.has(e)||zy.test(e),Pt=e=>gn(e,"length",ev),en=e=>!!e&&!Number.isNaN(Number(e)),Ro=e=>gn(e,"number",en),En=e=>!!e&&Number.isInteger(Number(e)),Ky=e=>e.endsWith("%")&&en(e.slice(0,-1)),L=e=>kf.test(e),Rt=e=>Fy.test(e),Gy=new Set(["length","size","percentage"]),Jy=e=>gn(e,Gy,bf),Qy=e=>gn(e,"position",bf),Yy=new Set(["image","url"]),Xy=e=>gn(e,Yy,rv),Zy=e=>gn(e,"",tv),Cn=()=>!0,gn=(e,t,r)=>{const n=kf.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ev=e=>Wy.test(e)&&!Vy.test(e),bf=()=>!1,tv=e=>Hy.test(e),rv=e=>qy.test(e),nv=()=>{const e=q("colors"),t=q("spacing"),r=q("blur"),n=q("brightness"),s=q("borderColor"),i=q("borderRadius"),o=q("borderSpacing"),a=q("borderWidth"),l=q("contrast"),u=q("grayscale"),c=q("hueRotate"),h=q("invert"),p=q("gap"),y=q("gradientColorStops"),v=q("gradientColorStopPositions"),w=q("inset"),x=q("margin"),g=q("opacity"),d=q("padding"),m=q("saturate"),_=q("scale"),k=q("sepia"),b=q("skew"),C=q("space"),j=q("translate"),U=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],ie=()=>["auto",L,t],z=()=>[L,t],at=()=>["",mt,Pt],lt=()=>["auto",en,L],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],ut=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",L],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[en,L];return{cacheSize:500,separator:":",theme:{colors:[Cn],spacing:[mt,Pt],blur:["none","",Rt,L],brightness:B(),borderColor:[e],borderRadius:["none","","full",Rt,L],borderSpacing:z(),borderWidth:at(),contrast:B(),grayscale:N(),hueRotate:B(),invert:N(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[Ky,Pt],inset:ie(),margin:ie(),opacity:B(),padding:z(),saturate:B(),scale:B(),sepia:N(),skew:B(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",L]}],container:["container"],columns:[{columns:[Rt]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),L]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",En,L]}],basis:[{basis:ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",L]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",En,L]}],"grid-cols":[{"grid-cols":[Cn]}],"col-start-end":[{col:["auto",{span:["full",En,L]},L]}],"col-start":[{"col-start":lt()}],"col-end":[{"col-end":lt()}],"grid-rows":[{"grid-rows":[Cn]}],"row-start-end":[{row:["auto",{span:[En,L]},L]}],"row-start":[{"row-start":lt()}],"row-end":[{"row-end":lt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",L]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",L]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[d]}],px:[{px:[d]}],py:[{py:[d]}],ps:[{ps:[d]}],pe:[{pe:[d]}],pt:[{pt:[d]}],pr:[{pr:[d]}],pb:[{pb:[d]}],pl:[{pl:[d]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",L,t]}],"min-w":[{"min-w":[L,t,"min","max","fit"]}],"max-w":[{"max-w":[L,t,"none","full","min","max","fit","prose",{screen:[Rt]},Rt]}],h:[{h:[L,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[L,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[L,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rt,Pt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ro]}],"font-family":[{font:[Cn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",L]}],"line-clamp":[{"line-clamp":["none",en,Ro]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mt,L]}],"list-image":[{"list-image":["none",L]}],"list-style-type":[{list:["none","disc","decimal",L]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mt,Pt]}],"underline-offset":[{"underline-offset":["auto",mt,L]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",L]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Qy]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jy]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xy]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[mt,L]}],"outline-w":[{outline:[mt,Pt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:at()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[mt,Pt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rt,Zy]}],"shadow-color":[{shadow:[Cn]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ut(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ut()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Rt,L]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[m]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",L]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",L]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",L]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[En,L]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",L]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mt,Pt,Ro]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sv=My(nv);function Ke(...e){return sv(Cy(e))}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>S.createElement("svg",{ref:c,...iv,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ov(e)}`,a].join(" "),...u},[...t.map(([h,p])=>S.createElement(h,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=we("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=we("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=we("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=we("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=we("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=we("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=we("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=we("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=we("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vv=[{to:"/",icon:uv,label:"Home"},{to:"/songs/new",icon:hv,label:"New Song"},{to:"/artists",icon:ls,label:"Artists"},{to:"/library",icon:Ef,label:"Library"},{to:"/settings",icon:pv,label:"Settings"}];function wv(){return f.jsxs("aside",{className:"w-64 border-r border-gray-800 bg-gray-900/50 p-4",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:"SongMaster"}),f.jsx("p",{className:"text-sm text-gray-500",children:"AI Song Creator"})]}),f.jsx("nav",{className:"space-y-2",children:vv.map(({to:e,icon:t,label:r})=>f.jsxs(xy,{to:e,className:({isActive:n})=>Ke("flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors",n?"bg-primary-600/20 text-primary-400":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"),children:[f.jsx(t,{className:"h-5 w-5"}),r]},e))})]})}const ke=S.forwardRef(({className:e,variant:t="primary",size:r="md",...n},s)=>f.jsx("button",{ref:s,className:Ke("inline-flex items-center justify-center rounded-lg font-medium transition-colors","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-gray-900","disabled:opacity-50 disabled:pointer-events-none",{"bg-primary-600 text-white hover:bg-primary-700":t==="primary","bg-gray-700 text-white hover:bg-gray-600":t==="secondary","border border-gray-600 text-gray-200 hover:bg-gray-800":t==="outline","text-gray-300 hover:text-white hover:bg-gray-800":t==="ghost","px-3 py-1.5 text-sm":r==="sm","px-4 py-2 text-base":r==="md","px-6 py-3 text-lg":r==="lg"},e),...n}));ke.displayName="Button";function _v(){return f.jsx("header",{className:"border-b border-gray-800 bg-gray-900/50 px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{children:f.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to save your songs"})}),f.jsx("div",{className:"flex items-center gap-3",children:f.jsxs(ke,{variant:"ghost",size:"sm",children:[f.jsx(gv,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})})}function xv({children:e}){return f.jsxs("div",{className:"flex h-screen bg-gray-900",children:[f.jsx(wv,{}),f.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[f.jsx(_v,{}),f.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}const be=S.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Ke("rounded-xl border border-gray-700 bg-gray-800 p-4",e),...t}));be.displayName="Card";function Sv(){return f.jsxs("div",{className:"mx-auto max-w-4xl",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsx("h1",{className:"mb-2 text-4xl font-bold text-gray-100",children:"Welcome to SongMaster"}),f.jsx("p",{className:"text-gray-400",children:"Create amazing songs with AI-powered multi-agent collaboration"})]}),f.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[f.jsxs(be,{className:"flex flex-col items-center p-8 text-center",children:[f.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-primary-600/20",children:f.jsx(Pi,{className:"h-10 w-10 text-primary-400"})}),f.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-200",children:"Create New Song"}),f.jsx("p",{className:"mb-6 text-sm text-gray-500",children:"Generate song specifications with multiple AI agents working together"}),f.jsx(Da,{to:"/songs/new",className:"w-full",children:f.jsx(ke,{className:"w-full",children:"Start Creating"})})]}),f.jsxs(be,{className:"flex flex-col items-center p-8 text-center",children:[f.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gray-700",children:f.jsx(ls,{className:"h-10 w-10 text-gray-400"})}),f.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-200",children:"Manage Artists"}),f.jsx("p",{className:"mb-6 text-sm text-gray-500",children:"Create and manage artist profiles with unique style descriptions"}),f.jsx(Da,{to:"/artists",className:"w-full",children:f.jsx(ke,{variant:"outline",className:"w-full",children:"View Artists"})})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-100",children:"Recent Songs"}),f.jsxs(be,{className:"p-8 text-center",children:[f.jsx(Ef,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),f.jsx("p",{className:"text-gray-500",children:"No songs yet. Create your first song!"})]})]})]})}function Xi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function kv(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const bv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ql extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ev extends Ql{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Sc extends Ql{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kc extends Ql{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fa||(Fa={}));class Cv{constructor(t,{headers:r={},customFetch:n,region:s=Fa.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=bv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kv(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=n;let p={},{region:y}=n;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(p["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(p["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(p["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let x=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(x=o.signal,c.addEventListener("abort",()=>o.abort())):x=o.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:w,signal:x}).catch(k=>{throw new Ev(k)}),d=g.headers.get("x-relay-error");if(d&&d==="true")throw new Sc(g);if(!g.ok)throw new kc(g);let m=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield g.json():m==="application/octet-stream"||m==="application/pdf"?_=yield g.blob():m==="text/event-stream"?_=g:m==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof kc||a instanceof Sc?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Tv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},jv=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var y;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const w=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");w&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new Tv(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,h,p;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${v}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var y;a=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Pv=class extends jv{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const bc=new RegExp("[,()]");var Or=class extends Pv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Rv=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Or({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Or({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Or({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Or({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Or({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Nv=class Tf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Rv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Tf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(c)),h=n&&Object.values(r).some(c);h?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{l.searchParams.append(y,v)})):(a="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Or({method:a,url:l,headers:p,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Ov{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Av="2.90.0",Iv=`realtime-js/${Av}`,jf="1.0.0",$v="2.0.0",Ec=jf,Wa=1e4,Lv=1e3,Uv=100;var At;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(At||(At={}));var le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(le||(le={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var Va;(function(e){e.websocket="websocket"})(Va||(Va={}));var lr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lr||(lr={}));class Dv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(y),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,o.length),v.setUint8(w++,u.length),v.setUint8(w++,h.length),v.setUint8(w++,r),Array.from(l,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(w++,g.charCodeAt(0)));var x=new Uint8Array(y.byteLength+n.byteLength);return x.set(new Uint8Array(y),0),x.set(new Uint8Array(n),y.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const h=n.decode(t.slice(l,l+o));l=l+o;const p=t.slice(l,t.byteLength),y=a===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:c,payload:y};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Pf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(V||(V={}));const Cc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Mv(o,e,t,s),i),{}):{}},Mv=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Rf(i,o):Ha(o)},Rf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Wv(t,r)}switch(e){case V.bool:return zv(t);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Bv(t);case V.json:case V.jsonb:return Fv(t);case V.timestamp:return Vv(t);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Ha(t);default:return Ha(t)}},Ha=e=>e,zv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Wv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rf(t,a))}return e},Vv=e=>typeof e=="string"?e.replace(" ","T"):e,Nf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class No{constructor(t,r,n={},s=Wa){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Tc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Tc||(Tc={}));class Bn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Bn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),v=c.filter(x=>y.indexOf(x.presence_ref)<0),w=h.filter(x=>p.indexOf(x.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(y=>y.presence_ref),p=c.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...p)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jc||(jc={}));var Fn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fn||(Fn={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Kr{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new No(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Bn(this),this.broadcastEndpointURL=Nf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Fn.PRESENCE]&&this.bindings[Fn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(yt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(yt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let d=0;d<x;d++){const m=w[d],{filter:{event:_,schema:k,table:b,filter:C}}=m,j=y&&y[d];if(j&&j.event===_&&Kr.isFilterValueEqual(j.schema,k)&&Kr.isFilterValueEqual(j.table,b)&&Kr.isFilterValueEqual(j.filter,C))g.push(Object.assign(Object.assign({},m),{id:j.id}));else{this.unsubscribe(),this.state=le.errored,t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(yt.SUBSCRIBED);return}}).receive("error",y=>{this.state=le.errored,t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===le.joined&&t===Fn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new No(this,rt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new No(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Uv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=rt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,x;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=y.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,x,g,d,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,k=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(d=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:w,table:x,commit_timestamp:g,type:d,errors:m}=v;p=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:d,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(p,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Kr.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cc(t.columns,t.old_record)),r}}const Oo=()=>{},Bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hv=[1e3,2e3,5e3,1e4],qv=1e4,Kv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wa,this.transport=null,this.heartbeatIntervalMs=Bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oo,this.ref=0,this.reconnectTimer=null,this.vsn=Ec,this.logger=Oo,this.conn=null,this.sendBuffer=[],this.serializer=new Dv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Va.websocket}`,this.httpEndpoint=Nf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ov.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case At.connecting:return lr.Connecting;case At.open:return lr.Open;case At.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Kr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Lv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===At.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===At.open||this.conn.readyState===At.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Kv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Iv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Pf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,c,h,p,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Wa,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Bs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Oo,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Ec,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>Hv[v-1]||qv,this.vsn){case jf:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,w)=>w(JSON.parse(v));break;case $v:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var us=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Jv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Qv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Yv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=Jv(e.baseUrl,n,s),l=await Qv(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&c?JSON.parse(c):c;if(!u.ok){const y=h?p:void 0,v=y==null?void 0:y.error;throw new us((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:y})}return{status:u.status,headers:u.headers,data:p}}}}function Fs(e){return e.join("")}var Xv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Fs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(e.namespace)}`}),!0}catch(t){if(t instanceof us&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof us&&r.status===409)return;throw r}}};function Er(e){return e.join("")}var Zv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Er(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Er(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof us&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof us&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},e0=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Yv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Xv(this.client,t),this.tableOps=new Zv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Zi=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Q(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var t0=class extends Zi{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qa=class extends Zi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Yl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),r0=()=>Response,Ka=e=>{if(Array.isArray(e))return e.map(r=>Ka(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ka(n)}),t},n0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},s0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function i0(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(e){var t=i0(e,"string");return cs(t)=="symbol"?t:t+""}function a0(e,t,r){return(t=o0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pc(Object(r),!0).forEach(function(n){a0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Ao=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},l0=async(e,t,r)=>{e instanceof await r0()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new t0(Ao(n),s,i))}).catch(n=>{t(new qa(Ao(n),n))}):t(new qa(Ao(e),e))},u0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(n0(n)?(s.headers=A({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),A(A({},s),r))};async function xs(e,t,r,n,s,i){return new Promise((o,a)=>{e(r,u0(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>l0(l,a,n))})}async function ds(e,t,r,n){return xs(e,"GET",t,r,n)}async function et(e,t,r,n,s){return xs(e,"POST",t,n,s,r)}async function Ga(e,t,r,n,s){return xs(e,"PUT",t,n,s,r)}async function c0(e,t,r,n){return xs(e,"HEAD",t,A(A({},r),{},{noResolveJson:!0}),n)}async function Xl(e,t,r,n,s){return xs(e,"DELETE",t,n,s,r)}var d0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Q(t))return{data:null,error:t};throw t}}};let Of;Of=Symbol.toStringTag;var h0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Of]="BlobDownloadBuilder",this.promise=null}asStream(){return new d0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Q(t))return{data:null,error:t};throw t}}};const f0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var p0=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Yl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const o=A(A({},Rc),n);let a=A(A({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=A(A({},a),n.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),h=await(e=="PUT"?Ga:et)(s.fetch,`${s.url}/object/${c}`,i,A({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=A({upsert:Rc.upsert},n),c=A(A({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Ga(s.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Q(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=A({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await et(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Zi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await et(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await et(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await et(n.fetch,`${n.url}/object/sign/${s}`,A({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await et(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>A(A({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>ds(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new h0(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Ka(await ds(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await c0(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Q(n)&&n instanceof qa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await Xl(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=A(A(A({},f0),t),{},{prefix:e||""});return{data:await et(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=A({},e);return{data:await et(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Af="2.90.0",If={"X-Client-Info":`storage-js/${Af}`};var m0=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=A(A({},If),t),this.fetch=Yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ds(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ds(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await et(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Ga(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await et(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Xl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},g0=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},If),t),this.fetch=Yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await et(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await ds(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Xl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!s0(e))throw new Zi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new e0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Zl={"X-Client-Info":`storage-js/${Af}`,"Content-Type":"application/json"};var $f=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Io=class extends $f{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},y0=class extends $f{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const eu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w0=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Io(Nc(i),n,o))}).catch(()=>{const i=n+"";t(new Io(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Io(s.statusText||`HTTP ${n} error`,n,i))}}else t(new y0(Nc(e),e))},_0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(v0(n)?(s.headers=A({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,A(A({},s),r)):s};async function x0(e,t,r,n,s,i){return new Promise((o,a)=>{e(r,_0(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>w0(l,a,n))})}async function De(e,t,r,n,s){return x0(e,"POST",t,n,s,r)}var S0=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},Zl),t),this.fetch=eu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await De(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await De(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}},k0=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},Zl),t),this.fetch=eu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await De(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await De(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await De(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}},b0=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=A(A({},Zl),t),this.fetch=eu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await De(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}},E0=class extends b0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new C0(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},C0=class extends S0{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,A(A({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,A(A({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new T0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},T0=class extends k0{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,A(A({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,A(A({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,A(A({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,A(A({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,A(A({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},j0=class extends m0{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new p0(this.url,this.headers,e,this.fetch)}get vectors(){return new E0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g0(this.url+"/iceberg",this.headers,this.fetch)}};const Lf="2.90.0",Ar=30*1e3,Ja=3,$o=Ja*Ar,P0="http://localhost:9999",R0="supabase.auth.token",N0={"X-Client-Info":`gotrue-js/${Lf}`},Qa="X-Supabase-Api-Version",Uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A0=10*60*1e3;class hs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class I0 extends hs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $0(e){return R(e)&&e.name==="AuthApiError"}class ur extends hs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tt extends hs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $e extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L0(e){return R(e)&&e.name==="AuthSessionMissingError"}class Cr extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ws extends Tt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends Tt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U0(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class Oc extends Tt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D0 extends Tt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ya extends Tt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Lo(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Ac extends Tt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xa extends Tt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ic=` 	
\r=`.split(""),M0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ic.length;t+=1)e[Ic[t].charCodeAt(0)]=-2;for(let t=0;t<Ri.length;t+=1)e[Ri[t].charCodeAt(0)]=t;return e})();function $c(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ri[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ri[n]),t.queuedBits-=6}}function Df(e,t,r){const n=M0[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{F0(o,n,r)};for(let o=0;o<e.length;o+=1)Df(e.charCodeAt(o),s,i);return t.join("")}function z0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function B0(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}z0(n,t)}}function F0(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function tn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Df(e.charCodeAt(s),r,n);return new Uint8Array(t)}function W0(e){const t=[];return B0(e,r=>t.push(r)),new Uint8Array(t)}function fr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>$c(s,r,n)),$c(null,r,n),t.join("")}function V0(e){return Math.round(Date.now()/1e3)+e}function H0(){return Symbol("auth-callback")}const me=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},Mf=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function q0(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const zf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),K0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ir=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pe=async(e,t)=>{await e.removeItem(t)};class eo{constructor(){this.promise=new eo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}eo.promiseConstructor=Promise;function Uo(e){const t=e.split(".");if(t.length!==3)throw new Xa("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!O0.test(t[n]))throw new Xa("JWT not in base64url format");return{header:JSON.parse(Lc(t[0])),payload:JSON.parse(Lc(t[1])),signature:tn(t[2]),raw:{header:t[0],payload:t[1]}}}async function G0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function J0(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Q0(e){return("0"+e.toString(16)).substr(-2)}function Y0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Q0).join("")}async function X0(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Z0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await X0(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(e,t,r=!1){const n=Y0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ir(e,`${t}-code-verifier`,s);const i=await Z0(n);return[i,n===i?"plain":"s256"]}const ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tw(e){const t=e.headers.get(Qa);if(!t||!t.match(ew))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(e){if(!sw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Do(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iw(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Uc(e){return JSON.parse(JSON.stringify(e))}const ar=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ow=[502,503,504];async function Dc(e){var t;if(!K0(e))throw new Ya(ar(e),0);if(ow.includes(e.status))throw new Ya(ar(e),e.status);let r;try{r=await e.json()}catch(i){throw new ur(ar(i),i)}let n;const s=tw(e);if(s&&s.getTime()>=Uf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ac(ar(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $e}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ac(ar(r),e.status,r.weak_password.reasons);throw new I0(ar(r),e.status||500,n)}const aw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function O(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Qa]||(i[Qa]=Uf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await lw(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function lw(e,t,r,n,s,i){const o=aw(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Ya(ar(l),0)}if(a.ok||await Dc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Dc(l)}}function Xe(e){var t;let r=null;dw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=V0(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mc(e){const t=Xe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uw(e){return{data:e,error:null}}function cw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Xi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function zc(e){return e}function dw(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mo=["global","local","others"];class hw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mo[0]){if(Mo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mo.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Xi(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zc});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){jr(t);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){jr(t);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Lt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){jr(t);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){jr(t.userId);try{const{data:r,error:n}=await O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){jr(t.userId),jr(t.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zc});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}}function Bc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Pr={debug:!!(globalThis&&Mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fw extends Bf{}async function pw(e,t,r){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ff(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gw(e){return parseInt(e,16)}function yw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function vw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Ff(e.address),v=c?`${c}://${n}`:n,w=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${y}

${w}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let d=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);d+=`
- ${m}`}g+=d}return`${x}
${g}`}class oe extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ni extends oe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ww({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Wf(o)){if(i.rp.id!==o)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _w({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Wf(n)){if(r.rpId!==n)return new oe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Sw=new xw;function kw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Xi(e,["challenge","user","excludeCredentials"]),i=tn(t).buffer,o=Object.assign(Object.assign({},r),{id:tn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:tn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function bw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Xi(e,["challenge","allowCredentials"]),s=tn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:tn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Ew(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:fr(new Uint8Array(e.response.attestationObject)),clientDataJSON:fr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Cw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fr(new Uint8Array(s.authenticatorData)),clientDataJSON:fr(new Uint8Array(s.clientDataJSON)),signature:fr(new Uint8Array(s.signature)),userHandle:s.userHandle?fr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Fc(){var e,t;return!!(me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Tw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",t)}:{data:null,error:new Ni("Empty credential response",t)}}catch(t){return{data:null,error:ww({error:t,options:e})}}}async function jw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ni("Browser returned unexpected credential type",t)}:{data:null,error:new Ni("Empty credential response",t)}}catch(t){return{data:null,error:_w({error:t,options:e})}}}const Pw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Rw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=Oi(a,o):n[i]=Oi(o)}else n[i]=o}return n}function Nw(e,t){return Oi(Pw,e,t||{})}function Ow(e,t){return Oi(Rw,e,t||{})}class Aw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??Sw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Nw(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await Tw({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=Ow(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await jw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new ur("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new hs("rpId is required for WebAuthn authentication")};try{if(!Fc())return{data:null,error:new ur("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new ur("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new hs("rpId is required for WebAuthn registration")};try{if(!Fc())return{data:null,error:new ur("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new ur("Unexpected error in register",o)}}}}mw();const Iw={url:P0,storageKey:R0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wc(e,t,r){return await r()}const Rr={};class fs{get jwks(){var t,r;return(r=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Iw),t);if(this.storageKey=i.storageKey,this.instanceID=(r=fs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&me()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zf(i.fetch),this.lock=i.lock||Wc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pw:this.lock=Wc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Aw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(me()&&(r=q0(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),U0(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new ur("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:h,options:p}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Tr(this.storage,this.storageKey)),i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:v},xform:Xe})}else if("phone"in t){const{phone:c,password:h,options:p}=t;i=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Xe})}else throw new Ws("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mc})}else throw new Ws("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Cr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,c,h,p;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:w,wallet:x,statement:g,options:d}=t;let m;if(me())if(typeof x=="object")m=x;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")m=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(d!=null&&d.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=x}const _=new URL((r=d==null?void 0:d.url)!==null&&r!==void 0?r:window.location.href),k=await m.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Ff(k[0]);let C=(n=d==null?void 0:d.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const U=await m.request({method:"eth_chainId"});C=gw(U)}const j={domain:_.host,address:b,statement:g,uri:_.href,version:"1",chainId:C,nonce:(s=d==null?void 0:d.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=d==null?void 0:d.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=d==null?void 0:d.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=d==null?void 0:d.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=d==null?void 0:d.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=d==null?void 0:d.signInWithEthereum)===null||c===void 0?void 0:c.resources};y=vw(j),v=await m.request({method:"personal_sign",params:[yw(y),b]})}try{const{data:w,error:x}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xe});if(x)throw x;if(!w||!w.session||!w.user){const g=new Cr;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,c,h,p,y;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:x,wallet:g,statement:d,options:m}=t;let _;if(me())if(typeof g=="object")_=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),d?{statement:d}:null));let C;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")C=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)C=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...d?["",d,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:x,error:g}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:fr(w)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Xe});if(g)throw g;if(!x||!x.session||!x.user){const d=new Cr;return this._returnResult({data:{user:null,session:null},error:d})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(R(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await sr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new D0;const{data:i,error:o}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xe});if(await pe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Cr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Cr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Tr(this.storage,this.storageKey));const{error:h}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ws("You must provide either an email or phone number.")}catch(a){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Tr(this.storage,this.storageKey));const u=await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:uw});return!((i=u.data)===null||i===void 0)&&i.url&&me()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $e;const{error:s}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(R(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await O(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await O(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ws("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<$o:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await sr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Do()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=iw(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(r){if(R(r))return L0(r)&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $e;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Tr(this.storage,this.storageKey));const{data:u,error:c}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $e;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Uo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!me())throw new Vs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Oc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Oc("No code detected.");const{data:d,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Vs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const y=p-c;y*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=p-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,c);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!($0(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=H0(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tr(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return me()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,h=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xe}),{data:p,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Cr}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:y}))}catch(s){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await J0(async s=>(s>0&&await G0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Lo(i)&&Date.now()+o-n<Ar})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),me()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Do()}else if(s&&!s.user&&!s.user){const o=await sr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await pe(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=Do()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$o;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${$o}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Lo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={data:null,error:i};return Lo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Uc(s);await Ir(this.storage,this.storageKey,i)}else{const s=Uc(r);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pe(this.storage,this.storageKey),await pe(this.storage,this.storageKey+"-code-verifier"),await pe(this.storage,this.storageKey+"-user"),this.userStorage&&await pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ar}ms, refresh threshold is ${Ja} ticks`),s<=Ja&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await O(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await O(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Ew(t.webauthn.credential_response):Cw(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:kw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:bw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Uo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await O(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(t){if(R(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+A0>s)return n;const{data:i,error:o}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Uo(n);r!=null&&r.allowExpired||rw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=nw(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,W0(`${a}.${l}`)))throw new Xa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}}fs.nextInstanceID={};const $w=fs,Lw="2.90.0";let Nn="";typeof Deno<"u"?Nn="deno":typeof document<"u"?Nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nn="react-native":Nn="node";const Uw={"X-Client-Info":`supabase-js-${Nn}/${Lw}`},Dw={headers:Uw},Mw={schema:"public"},zw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bw={};function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function Fw(e,t){if(ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ww(e){var t=Fw(e,"string");return ps(t)=="symbol"?t:t+""}function Vw(e,t,r){return(t=Ww(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vc(Object(r),!0).forEach(function(n){Vw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Hw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qw=()=>Headers,Kw=(e,t,r)=>{const n=Hw(r),s=qw();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,te(te({},o),{},{headers:u}))}};function Gw(e){return e.endsWith("/")?e:e+"/"}function Jw(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,p={db:te(te({},l),s),auth:te(te({},u),i),realtime:te(te({},c),o),storage:{},global:te(te(te({},h),a),{},{headers:te(te({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Qw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Yw=class extends $w{constructor(e){super(e)}},Xw=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Qw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Mw,realtime:Bw,auth:te(te({},zw),{},{storageKey:o}),global:Dw},l=Jw(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Kw(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(te({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Nv(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new j0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Cv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yw({url:this.authUrl.href,headers:te(te({},p),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Gv(this.realtimeUrl.href,te(te({},e),{},{params:te(te({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Zw=(e,t,r)=>new Xw(e,t,r);function e_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}e_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t_="https://your-project.supabase.co",r_="your-anon-key",n_=Zw(t_,r_);function s_({artist:e,onClick:t,onEdit:r,onDelete:n}){return f.jsxs(be,{className:"group relative cursor-pointer transition-all hover:border-primary-500/50",children:[f.jsxs("div",{onClick:t,children:[f.jsx("div",{className:"mb-3 flex h-24 w-24 items-center justify-center rounded-full bg-gray-700",children:f.jsx(ls,{className:"h-12 w-12 text-gray-500"})}),f.jsx("h3",{className:"font-semibold text-gray-200",children:e.name}),f.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:e.style_description})]}),f.jsxs("div",{className:"absolute right-2 top-2 flex opacity-0 transition-opacity group-hover:opacity-100",children:[f.jsx("button",{onClick:s=>{s.stopPropagation(),r()},className:"rounded p-1 hover:bg-gray-700",children:f.jsx(Cf,{className:"h-4 w-4 text-gray-400"})}),f.jsx("button",{onClick:s=>{s.stopPropagation(),n()},className:"rounded p-1 hover:bg-gray-700",children:f.jsx(mv,{className:"h-4 w-4 text-red-400"})})]})]})}function i_({artists:e,onSelectArtist:t,onCreateArtist:r,onEditArtist:n,onDeleteArtist:s}){return e.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx("div",{className:"mb-4 text-5xl",children:""}),f.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-200",children:"No artists yet"}),f.jsx("p",{className:"mb-6 text-gray-500",children:"Create your first artist to get started"}),f.jsxs(ke,{onClick:r,children:[f.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Create Artist"]})]}):f.jsxs("div",{children:[f.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Your Artists"}),f.jsxs(ke,{onClick:r,children:[f.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Create Artist"]})]}),f.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(i=>f.jsx(s_,{artist:i,onClick:()=>t(i),onEdit:()=>n(i),onDelete:()=>s(i.id)},i.id))})]})}function Vf({isOpen:e,onClose:t,title:r,children:n,className:s}){return e?f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),f.jsxs("div",{className:Ke("relative z-10 w-full max-w-lg rounded-xl border border-gray-700 bg-gray-800 p-6","shadow-2xl max-h-[90vh] overflow-auto",s),children:[r&&f.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-100",children:r}),n]})]}):null}const tu=S.forwardRef(({className:e,...t},r)=>f.jsx("input",{ref:r,className:Ke("w-full rounded-lg border border-gray-700 bg-gray-800 px-4 py-2 text-gray-100","placeholder:text-gray-500","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",e),...t}));tu.displayName="Input";function o_({artist:e,onClose:t,onSave:r}){const[n,s]=S.useState("select"),[i,o]=S.useState(""),[a,l]=S.useState(!1),[u,c]=S.useState([]),[h,p]=S.useState(null),[y]=S.useState({id:"1",name:"Grok",provider:"xAI"}),[v,w]=S.useState({name:(e==null?void 0:e.name)||"",style_description:(e==null?void 0:e.style_description)||"",special_characteristics:(e==null?void 0:e.special_characteristics)||""}),x=async()=>{if(i.trim()){l(!0);try{const _=await(await fetch("/api/generate-artist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:i,agent_id:y.id})})).json();c(_.options||[])}catch(m){console.error("Failed to generate artists:",m),c([{id:"demo-1",user_id:"demo",name:"Neon Horizon",style_description:"Synthwave band with dreamy 80s aesthetics",special_characteristics:"Retro synth leads and driving basslines",created_at:new Date},{id:"demo-2",user_id:"demo",name:"Velvet Echo",style_description:"Indie rock with psychedelic influences",special_characteristics:"Layered guitar textures and introspective lyrics",created_at:new Date},{id:"demo-3",user_id:"demo",name:"Crystal Waves",style_description:"Ambient electronic with nature sounds",special_characteristics:"Ethereal vocals and organic soundscapes",created_at:new Date}])}finally{l(!1)}}},g=async()=>{if(!v.name.trim()||!v.style_description.trim()){alert("Please fill in all required fields");return}console.log("Saving artist:",v),r()},d=async()=>{if(h===null||!u[h])return;const m=u[h];console.log("Saving generated artist:",m),r()};return f.jsxs(Vf,{isOpen:!0,onClose:t,title:e?"Edit Artist":"Create Artist",className:"max-w-2xl",children:[n==="select"&&f.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[f.jsxs("button",{onClick:()=>s("ai-guided"),className:"flex flex-col items-center gap-3 rounded-xl border-2 border-gray-700 p-6 transition-colors hover:border-primary-500 hover:bg-gray-800/50",children:[f.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary-600/20",children:f.jsx(xc,{className:"h-8 w-8 text-primary-400"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"font-semibold text-gray-200",children:"AI Guided"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Describe and let AI create options"})]})]}),f.jsxs("button",{onClick:()=>s("manual"),className:"flex flex-col items-center gap-3 rounded-xl border-2 border-gray-700 p-6 transition-colors hover:border-primary-500 hover:bg-gray-800/50",children:[f.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gray-700",children:f.jsx(cv,{className:"h-8 w-8 text-gray-400"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"font-semibold text-gray-200",children:"Manual"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Fill in the form yourself"})]})]})]}),n==="ai-guided"&&f.jsxs("div",{children:[f.jsx("button",{onClick:()=>s("select"),className:"mb-4 text-sm text-gray-400 hover:text-gray-200",children:" Back to mode selection"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Select AI Agent"}),f.jsxs(be,{className:"flex cursor-pointer items-center gap-3 p-3",onClick:()=>{},children:[f.jsx("span",{className:"font-medium text-gray-200",children:y.name}),f.jsxs("span",{className:"text-sm text-gray-500",children:["(",y.provider,")"]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Describe the artist you want to create"}),f.jsx("textarea",{value:i,onChange:m=>o(m.target.value),placeholder:"e.g., A 80s synth-pop band with dreamy vocals and electronic beats",className:"min-h-[100px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),f.jsx(ke,{onClick:x,disabled:a||!i.trim(),className:"w-full",children:a?f.jsxs(f.Fragment,{children:[f.jsx(Ba,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):f.jsxs(f.Fragment,{children:[f.jsx(xc,{className:"mr-2 h-4 w-4"}),"Generate 3 Options"]})}),u.length>0&&f.jsxs("div",{className:"mt-6 space-y-3",children:[f.jsx("h4",{className:"font-medium text-gray-300",children:"Choose an option:"}),u.map((m,_)=>f.jsx(be,{className:Ke("cursor-pointer p-4 transition-all",h===_?"border-primary-500 bg-primary-600/10":"hover:border-gray-600"),onClick:()=>p(_),children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h5",{className:"font-semibold text-gray-200",children:m.name}),f.jsx("p",{className:"mt-1 text-sm text-gray-400",children:m.style_description}),m.special_characteristics&&f.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",m.special_characteristics]})]}),h===_&&f.jsx(av,{className:"h-5 w-5 text-primary-400"})]})},_)),f.jsx(ke,{onClick:d,disabled:h===null,className:"mt-4 w-full",children:"Save Artist"})]})]}),n==="manual"&&f.jsxs("div",{children:[f.jsx("button",{onClick:()=>s("select"),className:"mb-4 text-sm text-gray-400 hover:text-gray-200",children:" Back to mode selection"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Artist Name *"}),f.jsx(tu,{value:v.name,onChange:m=>w({...v,name:m.target.value}),placeholder:"e.g., The Midnight Echo"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Style Description *"}),f.jsx("textarea",{value:v.style_description,onChange:m=>w({...v,style_description:m.target.value}),placeholder:"Describe the musical style, genre, influences...",className:"min-h-[80px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Special Characteristics"}),f.jsx("textarea",{value:v.special_characteristics,onChange:m=>w({...v,special_characteristics:m.target.value}),placeholder:"What makes this artist unique? Signature sounds, themes, etc.",className:"min-h-[80px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ke,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),f.jsx(ke,{onClick:g,className:"flex-1",children:e?"Update Artist":"Create Artist"})]})]})]})]})}function a_(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),[s,i]=S.useState(!1),[o,a]=S.useState(null);S.useEffect(()=>{l()},[]);const l=async()=>{t([]),n(!1)},u=()=>{a(null),i(!0)},c=v=>{a(v),i(!0)},h=async v=>{confirm("Are you sure you want to delete this artist?")&&(await n_.from("artists").delete().eq("id",v),l())},p=()=>{i(!1),a(null),l()},y=v=>{window.location.href=`/songs/new?artist_id=${v.id}`};return r?f.jsx("div",{className:"flex items-center justify-center py-12",children:"Loading..."}):f.jsxs("div",{children:[f.jsx("h1",{className:"mb-6 text-3xl font-bold text-gray-100",children:"Artists"}),f.jsx(i_,{artists:e,onSelectArtist:y,onCreateArtist:u,onEditArtist:c,onDeleteArtist:h}),s&&f.jsx(o_,{artist:o,onClose:p,onSave:p})]})}function l_({agents:e,selectedAgents:t,onAddAgent:r,onRemoveAgent:n}){const[s,i]=S.useState(!1),o=e.filter(a=>t.includes(a.id));return f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"AI Agents"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.map(a=>f.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-gray-700 bg-gray-800 px-3 py-2",children:[f.jsx("span",{className:"text-sm font-medium text-gray-200",children:a.name}),f.jsx("button",{onClick:()=>n(a.id),className:"rounded p-0.5 hover:bg-gray-700",children:f.jsx(yv,{className:"h-4 w-4 text-gray-400"})})]},a.id)),f.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 rounded-lg border border-dashed border-gray-600 bg-gray-800/50 px-3 py-2 text-sm text-gray-400 transition-colors hover:border-gray-500 hover:bg-gray-800 hover:text-gray-200",children:[f.jsx(Pi,{className:"h-4 w-4"}),"Add Agent"]})]}),f.jsx(Vf,{isOpen:s,onClose:()=>i(!1),title:"Select AI Agent",children:f.jsxs("div",{className:"space-y-2",children:[e.filter(a=>!t.includes(a.id)).map(a=>f.jsx(be,{className:"cursor-pointer p-4 transition-colors hover:border-primary-500",onClick:()=>{r(a.id),i(!1)},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-200",children:a.name}),f.jsx("p",{className:"text-sm text-gray-500",children:a.provider})]}),f.jsx("span",{className:"text-xs text-gray-600",children:a.model_name})]})},a.id)),e.filter(a=>!t.includes(a.id)).length===0&&f.jsx("p",{className:"text-center text-gray-500",children:"All agents selected"})]})})]})}const zo={good:"bg-green-500/20 text-green-400 border-green-500/30",ok:"bg-orange-500/20 text-orange-400 border-orange-500/30",bad:"bg-red-500/20 text-red-400 border-red-500/30"},Hc=e=>e>=8?zo.good:e>=5?zo.ok:zo.bad;function u_({agent:e,status:t,scores:r,onClick:n}){return f.jsxs(be,{className:Ke("relative cursor-pointer transition-all",t==="winner"&&"border-2 border-green-500 bg-green-500/5",t==="overridden"&&"border-2 border-blue-500 bg-blue-500/5",t==="generating"&&"animate-pulse",n&&"hover:border-gray-600"),onClick:n,children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:Ke("flex h-8 w-8 items-center justify-center rounded-lg text-sm font-bold",t==="winner"?"bg-green-500 text-white":"bg-gray-700 text-gray-300"),children:t==="generating"?f.jsx(Ba,{className:"h-4 w-4 animate-spin"}):e.name.charAt(0)}),f.jsx("span",{className:"font-medium text-gray-200",children:e.name})]}),t==="winner"&&f.jsx("span",{className:"rounded-full bg-green-500/20 px-2 py-1 text-xs font-medium text-green-400",children:"Winner"}),t==="overridden"&&f.jsx("span",{className:"rounded-full bg-blue-500/20 px-2 py-1 text-xs font-medium text-blue-400",children:"Selected"})]}),t==="evaluated"&&r&&f.jsxs("div",{className:"space-y-2",children:[[{label:"Music Style",value:r.music_style},{label:"Lyrics",value:r.lyrics},{label:"Originality",value:r.originality},{label:"Cohesion",value:r.cohesion}].map(({label:s,value:i})=>f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-400",children:s}),f.jsxs("span",{className:Ke("rounded px-2 py-0.5 text-xs font-medium border",Hc(i)),children:[i,"/10"]})]},s)),f.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-2 text-sm",children:[f.jsx("span",{className:"font-medium text-gray-300",children:"Total Score"}),f.jsxs("span",{className:Ke("rounded px-2 py-0.5 text-sm font-bold border",Hc(r.total)),children:[r.total.toFixed(1),"/10"]})]})]}),t==="generating"&&f.jsxs("div",{className:"flex items-center justify-center py-4",children:[f.jsx(Ba,{className:"h-6 w-6 animate-spin text-gray-400"}),f.jsx("span",{className:"ml-2 text-gray-400",children:"Generating..."})]}),t==="waiting"&&f.jsxs("div",{className:"flex items-center justify-center py-4",children:[f.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-600"}),f.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Waiting..."})]})]})}function c_({artist:e,songDescription:t,styleDescription:r,onSongDescriptionChange:n,onStyleDescriptionChange:s}){return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Describe the song you want"}),f.jsx("textarea",{value:t,onChange:i=>n(i.target.value),placeholder:"What should this song be about? What emotions should it convey?",className:"min-h-[100px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),f.jsxs("div",{children:[e&&f.jsxs("div",{className:"mb-2 rounded-lg border border-gray-700 bg-gray-800/50 p-3",children:[f.jsx("div",{className:"mb-1 text-xs font-medium text-gray-500 uppercase",children:"Artist Style Context"}),f.jsx("p",{className:"text-sm text-gray-300",children:e.style_description}),e.special_characteristics&&f.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[" ",e.special_characteristics]})]}),f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:e?"Add or modify style description":"Music Style Description"}),f.jsx("textarea",{value:r,onChange:i=>s(i.target.value),placeholder:e?"How should the artist style be adapted for this song?":"Describe the desired music style...",className:"min-h-[80px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})]})}function d_(){var lt;const[e]=by(),t=e.get("artist_id"),[r,n]=S.useState([]),[s,i]=S.useState([]),[o,a]=S.useState(null),[l,u]=S.useState(""),[c,h]=S.useState(""),[p,y]=S.useState(!1),[v,w]=S.useState({}),[x,g]=S.useState({}),[d,m]=S.useState(null),[_,k]=S.useState(null),[,b]=S.useState(0);S.useEffect(()=>{C(),t&&j()},[t]);const C=async()=>{const F=[{id:"1",name:"Claude",provider:"Anthropic",api_endpoint:"https://api.anthropic.com",model_name:"claude-sonnet-4",capabilities:{context_window:2e5},cost_per_1k_tokens:.01,is_active:!0},{id:"2",name:"GPT-4o",provider:"OpenAI",api_endpoint:"https://api.openai.com",model_name:"gpt-4o",capabilities:{context_window:128e3},cost_per_1k_tokens:.03,is_active:!0},{id:"3",name:"Grok",provider:"xAI",api_endpoint:"https://api.x.ai",model_name:"grok-2-1212",capabilities:{context_window:131072},cost_per_1k_tokens:.02,is_active:!0}];n(F),s.length===0&&i(F.slice(0,2).map(ee=>ee.id))},j=async()=>{a({id:"demo-artist",user_id:"demo",name:"Neon Horizon",style_description:"Synthwave band with dreamy 80s aesthetics",special_characteristics:"Retro synth leads and driving basslines",created_at:new Date}),h("Synthwave band with dreamy 80s aesthetics")},U=F=>{i([...s,F])},I=F=>{i(s.filter(ee=>ee!==F))},ie=async()=>{if(s.length===0){alert("Please select at least one agent");return}if(!l.trim()||!c.trim()){alert("Please describe the song and style");return}y(!0),w(Object.fromEntries(s.map(F=>[F,"waiting"]))),g({}),m(null),k(null);try{for(const ee of s){await new Promise(T=>setTimeout(T,1500)),w(T=>({...T,[ee]:"generating"}));const ut=r.find(T=>T.id===ee);g(T=>({...T,[ee]:{name:`${ut.name}'s Song`,lyrics:"Demo lyrics for the song...",style_description:c,scores:{music_style:Math.floor(Math.random()*3)+7,lyrics:Math.floor(Math.random()*3)+6,originality:Math.floor(Math.random()*3)+5,cohesion:Math.floor(Math.random()*3)+6}}})),w(T=>({...T,[ee]:"evaluated"}))}if(Object.entries(x).length>0){const ee=s[Math.floor(Math.random()*s.length)];m({winnerAgentId:ee,feedback:"This song has a strong melodic structure and matches the requested style well."}),k(ee)}}catch(F){console.error("Generation failed:",F),alert("Failed to generate songs. Please try again.")}finally{y(!1)}},z=async()=>{_&&(b(F=>F+1),await ie())},at=()=>{const F=prompt("Enter template name:");F&&alert(`Template "${F}" saved!`)};return f.jsxs("div",{className:"mx-auto max-w-4xl",children:[f.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:"Create New Song"}),o&&f.jsxs("p",{className:"text-gray-500",children:["Creating song for ",o.name]})]}),f.jsx("div",{className:"flex gap-2",children:f.jsxs(ke,{variant:"outline",onClick:at,children:[f.jsx(fv,{className:"mr-2 h-4 w-4"}),"Save Template"]})})]}),f.jsx(be,{className:"mb-6",children:f.jsx(l_,{agents:r,selectedAgents:s,onAddAgent:U,onRemoveAgent:I})}),f.jsx(be,{className:"mb-6",children:f.jsx(c_,{artist:o,songDescription:l,styleDescription:c,onSongDescriptionChange:u,onStyleDescriptionChange:h})}),f.jsx("div",{className:"mb-6 flex justify-center",children:f.jsx(ke,{size:"lg",onClick:ie,disabled:p||s.length===0,className:"px-8",children:p?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"animate-spin",children:""})," Generating..."]}):f.jsxs(f.Fragment,{children:[f.jsx(dv,{className:"mr-2 h-5 w-5"}),"Generate Songs"]})})}),Object.keys(x).length>0&&f.jsxs("div",{children:[f.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-100",children:"Generated Songs"}),d&&f.jsxs(be,{className:"mb-6 border-primary-500/50 bg-primary-500/5 p-4",children:[f.jsx("h3",{className:"mb-2 font-medium text-gray-300",children:"Orchestrator Recommendation"}),f.jsx("p",{className:"text-sm text-gray-400",children:d.feedback}),d.winnerAgentId&&f.jsxs("p",{className:"mt-2 text-sm",children:["Selected: ",f.jsx("span",{className:"font-medium text-primary-400",children:(lt=r.find(F=>F.id===d.winnerAgentId))==null?void 0:lt.name})]})]}),f.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(F=>{var N;const ee=r.find($=>$.id===F),ut=v[F],T=(N=x[F])==null?void 0:N.scores;return f.jsx(u_,{agent:ee,status:ut==="generating"?"generating":"evaluated",scores:T,onClick:()=>k(F)},F)})}),f.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[f.jsx(ke,{onClick:z,disabled:!_,children:"Iterate on Selected Song"}),f.jsx(ke,{variant:"outline",children:"Save to Library"})]})]})]})}function h_(){return f.jsx(d_,{})}function f_(){const[e,t]=S.useState([]),[r,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{t([]),n(!1)};return r?f.jsx("div",{className:"flex items-center justify-center py-12",children:"Loading..."}):f.jsxs("div",{children:[f.jsx("h1",{className:"mb-6 text-3xl font-bold text-gray-100",children:"Your Library"}),e.length===0?f.jsxs(be,{className:"p-12 text-center",children:[f.jsx(ls,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),f.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-200",children:"No songs yet"}),f.jsx("p",{className:"text-gray-500",children:"Create your first song to get started"})]}):f.jsx("div",{className:"space-y-3",children:e.map(i=>f.jsxs(be,{className:"flex items-center justify-between p-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gray-700",children:f.jsx(ls,{className:"h-6 w-6 text-gray-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-200",children:i.name}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(lv,{className:"h-3 w-3"}),new Date(i.created_at).toLocaleDateString()]}),f.jsx("span",{className:"capitalize",children:i.status})]})]})]}),f.jsx("button",{className:"rounded p-2 hover:bg-gray-700",children:f.jsx(Cf,{className:"h-4 w-4 text-gray-400"})})]},i.id))})]})}const Za=S.forwardRef(({className:e,pressed:t,onPressedChange:r,...n},s)=>f.jsx("button",{ref:s,className:Ke("relative inline-flex h-6 w-11 items-center rounded-full transition-colors",t?"bg-primary-600":"bg-gray-700",e),onClick:()=>r==null?void 0:r(!t),...n,children:f.jsx("span",{className:Ke("inline-block h-4 w-4 transform rounded-full bg-white transition-transform",t?"translate-x-6":"translate-x-1")})}));Za.displayName="Toggle";function p_(){const[e,t]=S.useState({defaultIterations:3,autoIterate:!1,useCustomPrompts:!1,agentMasterPrompt:"",orchestratorMasterPrompt:"",artistCreatorMasterPrompt:""});return f.jsxs("div",{className:"mx-auto max-w-2xl",children:[f.jsx("h1",{className:"mb-6 text-3xl font-bold text-gray-100",children:"Settings"}),f.jsxs(be,{className:"mb-6",children:[f.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-200",children:"Iteration Settings"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-gray-300",children:"Auto-Iterate"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Automatically iterate on songs without manual checkpoints"})]}),f.jsx(Za,{pressed:e.autoIterate,onPressedChange:r=>t({...e,autoIterate:r})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Max Iterations"}),f.jsx(tu,{type:"number",value:e.defaultIterations,onChange:r=>t({...e,defaultIterations:parseInt(r.target.value)}),className:"w-32"}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum number of iteration cycles"})]})]})]}),f.jsxs(be,{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-200",children:"Master Prompts"}),f.jsx(Za,{pressed:e.useCustomPrompts,onPressedChange:r=>t({...e,useCustomPrompts:r})})]}),e.useCustomPrompts&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agent Master Prompt"}),f.jsx("textarea",{value:e.agentMasterPrompt,onChange:r=>t({...e,agentMasterPrompt:r.target.value}),placeholder:"Custom prompt for song generation agents...",className:"min-h-[100px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Orchestrator Master Prompt"}),f.jsx("textarea",{value:e.orchestratorMasterPrompt,onChange:r=>t({...e,orchestratorMasterPrompt:r.target.value}),placeholder:"Custom prompt for the orchestrator agent...",className:"min-h-[100px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Artist Creator Master Prompt"}),f.jsx("textarea",{value:e.artistCreatorMasterPrompt,onChange:r=>t({...e,artistCreatorMasterPrompt:r.target.value}),placeholder:"Custom prompt for AI-assisted artist creation...",className:"min-h-[100px] w-full rounded-lg border border-gray-700 bg-gray-800 p-3 text-gray-100 placeholder:text-gray-500"})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx(ke,{variant:"outline",onClick:()=>t({defaultIterations:3,autoIterate:!1,useCustomPrompts:!1,agentMasterPrompt:"",orchestratorMasterPrompt:"",artistCreatorMasterPrompt:""}),children:"Reset to Defaults"}),f.jsx(ke,{onClick:()=>alert("Settings saved!"),children:"Save Settings"})]})]})}function m_(){return f.jsx(vy,{children:f.jsx(xv,{children:f.jsxs(uy,{children:[f.jsx(Nr,{path:"/",element:f.jsx(Sv,{})}),f.jsx(Nr,{path:"/artists",element:f.jsx(a_,{})}),f.jsx(Nr,{path:"/songs/new",element:f.jsx(h_,{})}),f.jsx(Nr,{path:"/library",element:f.jsx(f_,{})}),f.jsx(Nr,{path:"/settings",element:f.jsx(p_,{})})]})})})}Bo.createRoot(document.getElementById("root")).render(f.jsx(rd.StrictMode,{children:f.jsx(m_,{})}));
